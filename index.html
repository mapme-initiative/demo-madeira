<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="dcterms.date" content="2024-12-03">
<title>mapme.biodiversity - A Tool for Reproducible Conservation Data Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet"><script async="" src="https://hypothes.is/embed.js"></script><script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script><script src="site_libs/quarto-diagram/mermaid.min.js"></script><script src="site_libs/quarto-diagram/mermaid-init.js"></script><link href="site_libs/quarto-diagram/mermaid.css" rel="stylesheet">
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script><script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><link href="site_libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="site_libs/leaflet-1.3.1/leaflet.js"></script><link href="site_libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="site_libs/proj4-2.6.2/proj4.min.js"></script><script src="site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="site_libs/leaflet-binding-2.2.2/leaflet.js"></script><script src="site_libs/leaflet-providers-2.0.0/leaflet-providers_2.0.0.js"></script><script src="site_libs/leaflet-providers-plugin-2.2.2/leaflet-providers-plugin.js"></script><link rel="stylesheet" href="styles.css">
<meta name="citation_title" content="mapme.biodiversity - A Tool for Reproducible Conservation Data Analysis">
<meta name="citation_author" content="Darius A. Görgen">
<meta name="citation_publication_date" content="2024-12-03">
<meta name="citation_cover_date" content="2024-12-03">
<meta name="citation_year" content="2024">
<meta name="citation_online_date" content="2024-12-03">
<meta name="citation_language" content="en">
<meta name="citation_reference" content="citation_title=User Manual for the World Database on Protected Areas and world database on other effective area- based conservation measures: 1.6;,citation_author=undefined UNEP-WCMC;,citation_publication_date=2019;,citation_cover_date=2019;,citation_year=2019;">
<meta name="citation_reference" content="citation_title=New dams on the madeira river (brazil) cause forest flooding;,citation_author=M. Finer;,citation_author=T. Olexy;,citation_publication_date=2015;,citation_cover_date=2015;,citation_year=2015;">
<meta name="citation_reference" content="citation_title=High-resolution global maps of 21st-century forest cover change;,citation_author=M. C. Hansen;,citation_author=P. V. Potapov;,citation_author=R. Moore;,citation_author=M. Hancher;,citation_author=S. A. Turubanova;,citation_author=A. Tyukavina;,citation_author=D. Thau;,citation_author=S. V. Stehman;,citation_author=S. J. Goetz;,citation_author=T. R. Loveland;,citation_author=A. Kommareddy;,citation_author=A. Egorov;,citation_author=L. Chini;,citation_author=C. O. Justice;,citation_author=J. R. G. Townshend;,citation_publication_date=2013;,citation_cover_date=2013;,citation_year=2013;,citation_fulltext_html_url=https://www.science.org/doi/abs/10.1126/science.1244693;,citation_issue=6160;,citation_doi=10.1126/science.1244693;,citation_volume=342;,citation_journal_title=Science;">
<meta name="citation_reference" content="citation_title=High-resolution mapping of global surface water and its long-term changes;,citation_author=J.-F Pekel;,citation_author=Andrew Cottam;,citation_author=Noel Gorelick;,citation_author=Alan Belward;,citation_publication_date=2016-12;,citation_cover_date=2016-12;,citation_year=2016;,citation_doi=10.1038/nature20584;,citation_volume=540;,citation_journal_title=Nature;">
<meta name="citation_reference" content="citation_title=Global 1km population;,citation_author=undefined WorldPop;,citation_publication_date=2018;,citation_cover_date=2018;,citation_year=2018;,citation_fulltext_html_url=https://www.worldpop.org/doi/10.5258/SOTON/WP00647;,citation_doi=10.5258/SOTON/WP00647;,citation_publisher=University of Southampton;">
</head>
<body>

<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full"><div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">mapme.biodiversity - A Tool for Reproducible Conservation Data Analysis</h1>
          </div>

    
    <div class="quarto-title-meta-container">
      <div class="quarto-title-meta-column-start">
            <div class="quarto-title-meta-author">
          <div class="quarto-title-meta-heading">Author</div>
          <div class="quarto-title-meta-heading">Affiliation</div>
          
                <div class="quarto-title-meta-contents">
            <p class="author">Darius A. Görgen <a href="mailto:info@dariusgoergen.com" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> <a href="https://orcid.org/0009-0008-5503-7704" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
          </div>
                <div class="quarto-title-meta-contents">
                    <p class="affiliation">
                        MAPME Initiative
                      </p>
                  </div>
                    </div>
        
        <div class="quarto-title-meta">

                      
                <div>
            <div class="quarto-title-meta-heading">Published</div>
            <div class="quarto-title-meta-contents">
              <p class="date">December 3, 2024</p>
            </div>
          </div>
          
                <div>
            <div class="quarto-title-meta-heading">Modified</div>
            <div class="quarto-title-meta-contents">
              <p class="date-modified">December 4, 2024</p>
            </div>
          </div>
                
              </div>
      </div>
      <div class="quarto-title-meta-column-end quarto-other-formats-target">
      </div>
    </div>



    <div class="quarto-other-links-text-target">
    </div>  </div>
</header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#installation" id="toc-installation" class="nav-link" data-scroll-target="#installation">Installation</a></li>
  <li><a href="#getting-started" id="toc-getting-started" class="nav-link" data-scroll-target="#getting-started">Getting started</a></li>
  <li><a href="#preparing-the-area-of-interest" id="toc-preparing-the-area-of-interest" class="nav-link" data-scroll-target="#preparing-the-area-of-interest">Preparing the Area of Interest</a></li>
  <li><a href="#setting-up-mapme.biodiversity" id="toc-setting-up-mapme.biodiversity" class="nav-link" data-scroll-target="#setting-up-mapme.biodiversity">Setting up mapme.biodiversity</a></li>
  <li>
<a href="#fetching-resources" id="toc-fetching-resources" class="nav-link" data-scroll-target="#fetching-resources">Fetching resources</a>
  <ul class="collapse">
<li><a href="#gsw-transition-layer" id="toc-gsw-transition-layer" class="nav-link" data-scroll-target="#gsw-transition-layer">GSW Transition layer</a></li>
  <li><a href="#gsw-time-series" id="toc-gsw-time-series" class="nav-link" data-scroll-target="#gsw-time-series">GSW time series</a></li>
  <li><a href="#gfw-tree-cover-2000" id="toc-gfw-tree-cover-2000" class="nav-link" data-scroll-target="#gfw-tree-cover-2000">GFW Tree Cover 2000</a></li>
  </ul>
</li>
  <li>
<a href="#calculating-indicators" id="toc-calculating-indicators" class="nav-link" data-scroll-target="#calculating-indicators">Calculating indicators</a>
  <ul class="collapse">
<li><a href="#serializing-portfolios-to-disk" id="toc-serializing-portfolios-to-disk" class="nav-link" data-scroll-target="#serializing-portfolios-to-disk">Serializing portfolios to disk</a></li>
  <li><a href="#downstream-analysis-of-indicator-data" id="toc-downstream-analysis-of-indicator-data" class="nav-link" data-scroll-target="#downstream-analysis-of-indicator-data">Downstream analysis of indicator data</a></li>
  </ul>
</li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul><div class="quarto-alternate-notebooks"><h2>Notebooks</h2><ul><li><a href="index-preview.html"><i class="bi bi-journal-code"></i>Article Notebook</a></li><li><a href="LICENSE-preview.html"><i class="bi bi-journal-code"></i>LICENSE.md</a></li></ul></div></nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content"><section id="introduction" class="level2"><h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>In this tutorial we will conduct a practical analysis of geospatial data during which you will get to know the R package <code>mapme.biodiversity</code>. This package streamlines the access to and analysis of geospatial data sets that are relevant to conservation efforts.</p>
<p>As a practical example, we are going to analyze flooding and potentially associated deforestation as a consequence of dam building for electricity generation. Our area of study is a part of the river Madeira, a tributary to the Amazon, located in Rondônia, Brazil. Here, between 2008 and 2016 two dams, the Santo Antônio and the Jirau dam, were built in very close proximity to each other. This caused quite the stir, as an <a href="https://www.maapprogram.org/madeira/">report</a> of the Monitoring of the Andean Amazon Project (MAAP) estimated some 36,000 hectares of primary rainforest being permanently lost due to flooding <span class="citation" data-cites="finer2015">(<a href="#ref-finer2015" role="doc-biblioref">Finer and Olexy 2015</a>)</span>.</p>
<p>A high level overview of workflows based on <code>mapme.biodiversity</code> is shown in <a href="#fig-mapme-workflows" class="quarto-xref">Figure&nbsp;1</a>.</p>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div id="fig-mapme-workflows" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-mapme-workflows-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div>
<pre class="mermaid mermaid-js" data-label="fig-mapme-workflows">graph TB

    classDef default fill:#1d7990,stroke-width:2px,stroke:#034858,color:#F7F8F9;

    A(Portfolio initialization)
    B(Get resources)
    C(Calculate indicators)
    D(Statistical analysis within R)
    E(Export to GeoPackage)

    A--&gt;B
    B--&gt;C
    C--&gt;D
    C--&gt;E
</pre>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-mapme-workflows-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: High-level workflow diagram for mapme.biodiversity.
</figcaption></figure>
</div>
</div>
<a class="quarto-notebook-link" id="nblink-1" href="index-preview.html">Source: Article Notebook</a></div>
<p>This translates into the following pseudo-code, which we will unwrap in the course of this tutorial:</p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://mapme-initiative.github.io/mapme.biodiversity/">mapme.biodiversity</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/">sf</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/mapme.html">mapme_options</a></span><span class="op">(</span>outdir <span class="op">=</span> <span class="st">"./input"</span><span class="op">)</span></span>
<span><span class="va">portfolio</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html">st_read</a></span><span class="op">(</span><span class="st">"my-aoi.gpkg"</span><span class="op">)</span></span>
<span><span class="va">portfolio</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/mapme.html">get_resources</a></span><span class="op">(</span><span class="va">portfolio</span>, <span class="fu">get_my_resource</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">indicators</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/mapme.html">calc_indicators</a></span><span class="op">(</span><span class="va">portfolio</span>, <span class="fu">calc_my_indicator</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/portfolio.html">write_portfolio</a></span><span class="op">(</span><span class="va">indicators</span>, <span class="st">"my-indicators.gpkg"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Terminology of <code>mapme.biodiversity</code>
</div>
</div>
<div class="callout-body-container callout-body">
<p>We use a certain <a href="https://mapme-initiative.github.io/mapme.biodiversity/dev/articles/terminology.html">Terminology</a> to refer unambiguously to different parts of our <a href="https://mapme-initiative.github.io/mapme.biodiversity/dev/articles/workflow.html">workflows</a>. Please follow the links to familiarize yourself with terms such as portfolio, asset, resource and indicator.</p>
</div>
</div>
</section><section id="installation" class="level2"><h2 class="anchored" data-anchor-id="installation">Installation</h2>
<p><code>mapme.biodiversity</code> is published on CRAN so it can conveniently be installed via:</p>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"mapme.biodiversity"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Since <code>mapme.biodiversity</code> fetches data from sources on the internet, it is quite likely that from time to time the location of a resource might change. While we cannot immediately release such changes to CRAN, the development version on GitHub might already incorporate such adoptions. So sometimes, you may wish to install the <a href="https://github.com/mapme-initiative/mapme.biodiversity">development version</a>. You can install it with the <a href="https://cran.r-project.org/package=remotes"><code>remotes</code></a> package:</p>
<div class="cell">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"mapme-initiative/mapme.biodiversity"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="getting-started" class="level2"><h2 class="anchored" data-anchor-id="getting-started">Getting started</h2>
<p>First, we will load a number of required libraries for this tutorial. Among <a href="https://CRAN.R-project.org/package=mapme.biodiversity"><code>mapme.biodiversity</code></a>, this entails some packages to handle spatial data such as <a href="https://CRAN.R-project.org/package=sf"><code>sf</code></a>, <a href="https://CRAN.R-project.org/package=terra"><code>terra</code></a>, and <a href="https://CRAN.R-project.org/package=exactextractr"><code>rnaturalearth</code></a> as well as some data wrangling packages (<a href="https://CRAN.R-project.org/package=dplyr"><code>dplyr</code></a>, <a href="https://CRAN.R-project.org/package=tidyr"><code>tidyr</code></a>, and <a href="https://CRAN.R-project.org/package=ggplot2"><code>ggplot2</code></a>).</p>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># spatial libraries</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/">sf</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Linking to GEOS 3.13.0, GDAL 3.9.2, PROJ 9.5.0; sf_use_s2() is TRUE</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/">terra</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; terra 1.7.83</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://brazil-data-cube.github.io/rstac/">rstac</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/leaflet/">leaflet</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/rnaturalearth/">rnaturalearth</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://isciences.gitlab.io/exactextractr/">exactextractr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatialecology.github.io/landscapemetrics/">landscapemetrics</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://mapme-initiative.github.io/mapme.biodiversity/">mapme.biodiversity</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># data wrangling &amp; plotting</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span>, warn.conflicts <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org">tidyr</a></span>, warn.conflicts <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># progress reports and parallel computations</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://progressr.futureverse.org">progressr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://future.futureverse.org">future</a></span><span class="op">)</span></span>
<span><span class="co"># increase timeout for downloads (e.g. worldpop)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>timeout <span class="op">=</span> <span class="fl">600</span><span class="op">)</span></span>
<span><span class="co"># increases allowed size of future exports</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>future.globals.maxSize <span class="op">=</span> <span class="fl">1.0</span> <span class="op">*</span> <span class="fl">1e9</span><span class="op">)</span> <span class="co"># ~0.8 Gb</span></span>
<span><span class="co"># create input/output directories</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files2.html">dir.create</a></span><span class="op">(</span><span class="st">"input"</span>, showWarnings <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files2.html">dir.create</a></span><span class="op">(</span><span class="st">"output"</span>, showWarnings <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
GDAL version
</div>
</div>
<div class="callout-body-container callout-body">
<p><code>sf</code> prints informative messages about the versions of system libraries it was built against. For <code>mapme.biodiversity</code> to handle vector data sources correctly, we expect <code>sf</code> to be built against <a href="https://gdal.org/en/latest/download_past.html"><code>GDAL&gt;=3.7.0</code></a>. Since about November 2024 this requirement should be satisfied for pre-built <code>sf</code> from CRAN. Otherwise the <code>sf</code> <a href="https://github.com/r-spatial/sf?tab=readme-ov-file#installing"><code>README</code></a> contains OS-specific installation instructions.</p>
</div>
</div>
</section><section id="preparing-the-area-of-interest" class="level2"><h2 class="anchored" data-anchor-id="preparing-the-area-of-interest">Preparing the Area of Interest</h2>
<p>To obtain our area of interest, we first need to define the locations of the two dams in question and retrieve data on the Madeira river course. After a quick internet search, we obtain the following coordinates for the Santo Antônio and Jirau dams, respectively. Besides that, we found some indications about the potential timing when flooding started during the construction of the dams. For Santo Antônio, flooding seems to have started in 2011, two years earlier than for the Jirau dam.</p>
<div class="cell">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">dams</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html">st_as_sf</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span></span>
<span>        name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Santo Antonio"</span>, <span class="st">"Jirau"</span><span class="op">)</span>,</span>
<span>        start_flooding <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"2011-01-01"</span>, <span class="st">"2013-01-01"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>        longitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">63.9506</span>, <span class="op">-</span><span class="fl">64.6478</span><span class="op">)</span>,</span>
<span>        latitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">8.8016</span>, <span class="op">-</span><span class="fl">9.2665</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"longitude"</span>, <span class="st">"latitude"</span><span class="op">)</span>,</span>
<span>    crs <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html">st_crs</a></span><span class="op">(</span><span class="st">"OGC:CRS84"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Besides the dams’ location, we require spatial information on the course of Madeira river. Though not being the most precise data set, <a href="https://www.naturalearthdata.com/">Natural Earth</a> provides geo-information on a number of environmental and anthropogenic aspects of interest on a global scale. Let’s download a river data set at the most accurate available scale and subset it to the Madeira river.</p>
<div class="cell">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">dsn</span> <span class="op">&lt;-</span> <span class="st">"./input/madeira.gpkg"</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/files.html">file.exists</a></span><span class="op">(</span><span class="va">dsn</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">rivers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://docs.ropensci.org/rnaturalearth/reference/ne_download.html">ne_download</a></span><span class="op">(</span></span>
<span>        scale <span class="op">=</span> <span class="fl">10</span>,</span>
<span>        type <span class="op">=</span> <span class="st">"rivers_lake_centerlines"</span>,</span>
<span>        category <span class="op">=</span> <span class="st">"physical"</span>,</span>
<span>        returnclass <span class="op">=</span> <span class="st">"sf"</span>   </span>
<span>    <span class="op">)</span></span>
<span>    <span class="va">madeira</span> <span class="op">&lt;-</span> <span class="va">rivers</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">$</span><span class="va">name</span> <span class="op">==</span> <span class="st">"Madeira"</span><span class="op">)</span>, <span class="st">"name_en"</span><span class="op">]</span></span>
<span>    <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_write.html">st_write</a></span><span class="op">(</span><span class="va">madeira</span>, dsn <span class="op">=</span> <span class="va">dsn</span><span class="op">)</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="va">madeira</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html">st_read</a></span><span class="op">(</span><span class="va">dsn</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now that we have our raw inputs, we will have to design our specific AOIs. The Madeira river flows from the Andes toward the Amazon basin, that is from West to East. Flooding after dam construction evidently occurs upstream of a dam’s location, which is to the West in the case of the Madeira river. To analyze forest cover loss potentially associated with flooding we might decide to use a buffer zone around the river banks for a similar stretch of land upstream of both dams. The function we define below, will first crop the river’s line geometry to a specified buffer zone around a dam. We then have to decide which direction from the point’s location to keep, which should be West in the present case. We thus construct a directed bounding box and return the resulting river course after a final crop.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">crop_upstream</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span></span>
<span>    <span class="va">point</span>,</span>
<span>    <span class="va">river</span>,</span>
<span>    <span class="va">dist</span> ,</span>
<span>    <span class="va">dir</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">river_crop</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_binary_ops.html">st_intersection</a></span><span class="op">(</span><span class="va">river</span>, <span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_unary.html">st_buffer</a></span><span class="op">(</span><span class="va">point</span>, dist <span class="op">=</span> <span class="va">dist</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="va">y_coords</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_bbox.html">st_bbox</a></span><span class="op">(</span><span class="va">river_crop</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">dir</span> <span class="op">==</span> <span class="st">"W"</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">x_coords</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_bbox.html">st_bbox</a></span><span class="op">(</span><span class="va">river_crop</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">point</span><span class="op">)</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>        <span class="va">x_coords</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">point</span><span class="op">)</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span>, <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_bbox.html">st_bbox</a></span><span class="op">(</span><span class="va">river_crop</span><span class="op">)</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span></span>
<span>    <span class="va">bbox</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">x_coords</span>, <span class="va">y_coords</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rspatial.github.io/terra/reference/names.html">names</a></span><span class="op">(</span><span class="va">bbox</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"xmin"</span>, <span class="st">"xmax"</span>, <span class="st">"ymin"</span>, <span class="st">"ymax"</span><span class="op">)</span></span>
<span>    <span class="va">bbox</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_bbox.html">st_bbox</a></span><span class="op">(</span><span class="va">bbox</span>, crs <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html">st_crs</a></span><span class="op">(</span><span class="va">point</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crop.html">st_crop</a></span><span class="op">(</span><span class="va">river_crop</span>, <span class="va">bbox</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Let’s apply this function to retrieve the upstream portion of the Madeira river for each of the two dams. We also will apply a 5 km buffer around these lines, which will represent our AOIs for analyzing flooding and forest cover loss. Additionally, we will buffer the point locations by 50 km, as a second set of AOI definition to estimate the number of directly affected people by the dam construction.</p>
<div class="cell">
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">size</span> <span class="op">&lt;-</span> <span class="fu">units</span><span class="fu">::</span><span class="fu"><a href="https://r-quantities.github.io/units/reference/units.html">as_units</a></span><span class="op">(</span><span class="fl">50</span>, <span class="st">"km"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">upstream</span> <span class="op">&lt;-</span> <span class="va">dams</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rowwise.html">rowwise</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>geometry <span class="op">=</span> <span class="fu">crop_upstream</span><span class="op">(</span><span class="va">geometry</span>, <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html">st_geometry</a></span><span class="op">(</span><span class="va">madeira</span><span class="op">)</span>, dist <span class="op">=</span> <span class="va">size</span>, dir <span class="op">=</span> <span class="st">"W"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_measures.html">st_length</a></span><span class="op">(</span><span class="va">upstream</span><span class="op">)</span></span>
<span><span class="co">#&gt; Units: [m]</span></span>
<span><span class="co">#&gt; [1] 59756.14 61117.12</span></span>
<span></span>
<span><span class="va">upstream_buffer</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_unary.html">st_buffer</a></span><span class="op">(</span><span class="va">upstream</span>, dist <span class="op">=</span> <span class="va">size</span> <span class="op">/</span> <span class="fl">10</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_measures.html">st_area</a></span><span class="op">(</span><span class="va">upstream_buffer</span><span class="op">)</span></span>
<span><span class="co">#&gt; Units: [m^2]</span></span>
<span><span class="co">#&gt; [1] 696792723 709046753</span></span>
<span></span>
<span><span class="va">dams_buffer</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_unary.html">st_buffer</a></span><span class="op">(</span><span class="va">dams</span>, dist <span class="op">=</span> <span class="va">size</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_measures.html">st_area</a></span><span class="op">(</span><span class="va">dams_buffer</span><span class="op">)</span></span>
<span><span class="co">#&gt; Units: [m^2]</span></span>
<span><span class="co">#&gt; [1] 7946363927 7949096690</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The interactive visualization in <a href="#fig-leaflet-map" class="quarto-xref">Figure&nbsp;2</a> shows our AOI definition worked as expected: we were able to retrieve the upstream river courses of roughly equal length and obtain respective buffer zones of roughly equal area.</p>
<div id="cell-fig-leaflet-map" class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rstudio.github.io/leaflet/reference/leaflet.html">leaflet</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://rstudio.github.io/leaflet/reference/map-layers.html">addPolygons</a></span><span class="op">(</span></span>
<span>        data <span class="op">=</span> <span class="va">dams_buffer</span>,</span>
<span>        color <span class="op">=</span> <span class="st">"#f18e26"</span>,</span>
<span>        fill <span class="op">=</span> <span class="st">"#f18e26"</span>,</span>
<span>        fillOpacity <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>        popup <span class="op">=</span> <span class="op">~</span><span class="va">name</span>,</span>
<span>        group <span class="op">=</span> <span class="st">"Dam point locations (buffered)"</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://rstudio.github.io/leaflet/reference/map-layers.html">addPolygons</a></span><span class="op">(</span></span>
<span>        data <span class="op">=</span> <span class="va">upstream_buffer</span>,</span>
<span>        color <span class="op">=</span> <span class="st">"#1d7990"</span>,</span>
<span>        fill <span class="op">=</span> <span class="st">"#1d7990"</span>,</span>
<span>        fillOpacity <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>        popup <span class="op">=</span> <span class="op">~</span><span class="va">name</span>,</span>
<span>        group <span class="op">=</span> <span class="st">"Upstream river course (buffered)"</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://rstudio.github.io/leaflet/reference/map-layers.html">addCircleMarkers</a></span><span class="op">(</span></span>
<span>        data <span class="op">=</span> <span class="va">dams</span>,</span>
<span>        color <span class="op">=</span> <span class="st">"#f18e26"</span>,</span>
<span>        fill <span class="op">=</span> <span class="st">"#f18e26"</span>,</span>
<span>        fillOpacity <span class="op">=</span> <span class="fl">1</span>,</span>
<span>        popup <span class="op">=</span> <span class="op">~</span><span class="va">name</span>,</span>
<span>        group <span class="op">=</span> <span class="st">"Dam point locations"</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://rstudio.github.io/leaflet/reference/map-layers.html">addPolylines</a></span><span class="op">(</span></span>
<span>        data <span class="op">=</span> <span class="va">upstream</span>,</span>
<span>        color <span class="op">=</span> <span class="st">"#032733"</span>,</span>
<span>        popup <span class="op">=</span> <span class="op">~</span><span class="va">name</span>,</span>
<span>        group <span class="op">=</span> <span class="st">"Upstream river course"</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://rstudio.github.io/leaflet/reference/addProviderTiles.html">addProviderTiles</a></span><span class="op">(</span><span class="va">providers</span><span class="op">$</span><span class="va">OpenStreetMap</span>, group <span class="op">=</span> <span class="st">"OpenStreetMap"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://rstudio.github.io/leaflet/reference/addProviderTiles.html">addProviderTiles</a></span><span class="op">(</span><span class="va">providers</span><span class="op">$</span><span class="va">Esri.WorldImagery</span>, group <span class="op">=</span> <span class="st">"Satellite"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://rstudio.github.io/leaflet/reference/addLayersControl.html">addLayersControl</a></span><span class="op">(</span></span>
<span>        baseGroups <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"OpenStreetMap"</span>, <span class="st">"Satellite"</span><span class="op">)</span>,</span>
<span>        overlayGroups <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Dam point locations"</span>, <span class="st">"Upstream river course"</span>, <span class="st">"Dam point locations (buffered)"</span>, <span class="st">"Upstream river course (buffered)"</span><span class="op">)</span>,</span>
<span>        position <span class="op">=</span> <span class="st">"bottomright"</span>,</span>
<span>        options <span class="op">=</span> <span class="fu"><a href="https://rstudio.github.io/leaflet/reference/addLayersControl.html">layersControlOptions</a></span><span class="op">(</span>collapsed <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span>    <span class="op">)</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div id="fig-leaflet-map" class="cell-output-display quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-leaflet-map-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="leaflet html-widget html-fill-item" id="htmlwidget-af2de07143d4fde72bcf" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-af2de07143d4fde72bcf">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addPolygons","args":[[[[{"lng":[-63.58061099735682,-63.58061099735682,-63.58356184052973,-63.58356184052973,-63.58651272056326,-63.58651272056326,-63.58651272056326,-63.5920457199019,-63.5920457199019,-63.59241459112586,-63.59241459112586,-63.59831660887191,-63.59831660887191,-63.60348099500035,-63.60348099500035,-63.60421877362868,-63.60421877362868,-63.60716991108209,-63.60716991108208,-63.61012108522338,-63.61012108522338,-63.61012108522338,-63.61602354348319,-63.61602354348319,-63.62045048332308,-63.62045048332308,-63.6219261482353,-63.6219261482353,-63.62487750549194,-63.62487750549194,-63.62782889930682,-63.62782889930682,-63.63373179652485,-63.63373179652485,-63.63963483971646,-63.63963483971646,-63.6448001221171,-63.64480012211709,-63.64553802870868,-63.64553802870868,-63.64996551603043,-63.64996551603043,-63.65144136332851,-63.65144136332851,-63.65439308519471,-63.65439308519471,-63.65734484340292,-63.65734484340292,-63.66029663793151,-63.66029663793151,-63.66324846875885,-63.66324846875885,-63.6662003358633,-63.6662003358633,-63.66915223922321,-63.66915223922321,-63.67210417881694,-63.67210417881695,-63.67505615462287,-63.67505615462287,-63.67800816661932,-63.67800816661932,-63.68096021478466,-63.68096021478466,-63.68538835480199,-63.68538835480199,-63.68686441953542,-63.68686441953542,-63.69129266788079,-63.69129266788079,-63.69276876870191,-63.69276876870191,-63.69867326211089,-63.69867326211089,-63.70457789958905,-63.70457789958905,-63.71048268096312,-63.71048268096312,-63.71934012244979,-63.71934012244979,-63.72229267470548,-63.72229267470549,-63.728197886727,-63.728197886727,-63.73410324195082,-63.73410324195082,-63.74000874020349,-63.74443795765129,-63.74443795765129,-63.74591438131149,-63.74591438131149,-63.75182016510129,-63.75182016510129,-63.75772609139934,-63.76326302657579,-63.76326302657579,-63.76363216003202,-63.76363216003202,-63.7695383708257,-63.77249152947866,-63.77249152947866,-63.77544472360674,-63.77544472360674,-63.78135121820144,-63.78135121820144,-63.79316463213688,-63.79316463213688,-63.79907155113008,-63.80497861124188,-63.80497861124188,-63.81679315412578,-63.8197468777742,-63.8197468777742,-63.82270063655011,-63.82270063655011,-63.82860825939744,-63.83442371261773,-63.83442371261773,-63.83451602249382,-63.83451602249382,-63.84042392566521,-63.84928604268229,-63.84928604268229,-63.85224015153695,-63.85224015153695,-63.85814847388912,-63.86405693562002,-63.8684883732807,-63.86848837328071,-63.86996553655546,-63.86996553655546,-63.87587427652128,-63.88769217284711,-63.8906467335503,-63.8906467335503,-63.8936013288586,-63.8936013288586,-63.8995106232034,-63.90542005570716,-63.91132962619552,-63.91723933449407,-63.92019424026765,-63.92019424026765,-63.92314918042837,-63.92314918042837,-63.93496928450637,-63.95861113661296,-64.00590137750739,-64.02954974392279,-64.04137473372472,-64.04728742966164,-64.04728742966164,-64.05320025938903,-64.05911322273181,-64.0650263195148,-64.07093954956278,-64.07093954956278,-64.07389621450641,-64.07389621450641,-64.07685291270057,-64.08868003754445,-64.09459379889996,-64.09459379889996,-64.09496341338222,-64.09496341338222,-64.10050769264406,-64.10642171860138,-64.11233587659653,-64.11233587659653,-64.1127055158513,-64.1127055158513,-64.12416458799854,-64.13007914105444,-64.13007914105444,-64.13599382544625,-64.14190864099842,-64.14190864099842,-64.14782358753537,-64.15373866488149,-64.15373866488149,-64.1539235131544,-64.1539235131544,-64.15965387286113,-64.16556921129863,-64.16556921129862,-64.17148468001827,-64.17740027884435,-64.17740027884435,-64.18331600760109,-64.18331600760109,-64.18627392064853,-64.18627392064853,-64.19514785420338,-64.19514785420338,-64.20106397169728,-64.20106397169728,-64.20402207891547,-64.20402207891547,-64.20698021841851,-64.21289659419115,-64.21289659419114,-64.21881309883928,-64.21881309883928,-64.22029224511748,-64.22029224511748,-64.22472973218693,-64.22472973218693,-64.22768809706808,-64.22768809706808,-64.23064649405811,-64.23656338427681,-64.23656338427681,-64.24248040266693,-64.24248040266693,-64.24839754905243,-64.24839754905243,-64.25431482325716,-64.25431482325716,-64.26023222510501,-64.26023222510501,-64.26614975441981,-64.26614975441981,-64.27206741102533,-64.27206741102533,-64.27798519474537,-64.27798519474537,-64.28390310540365,-64.28390310540365,-64.2898211428239,-64.2898211428239,-64.29278020901465,-64.29278020901465,-64.29573930682979,-64.29573930682979,-64.29721886758959,-64.29721886758959,-64.30165759724495,-64.30165759724495,-64.30757601389305,-64.30757601389305,-64.31349455659768,-64.31349455659768,-64.31349455659768,-64.31497421194948,-64.31497421194948,-64.31941322518237,-64.31941322518237,-64.32533201947068,-64.32533201947068,-64.32607187758646,-64.32607187758646,-64.33125093928612,-64.33125093928612,-64.33125093928612,-64.33421044621134,-64.33421044621134,-64.33716998445216,-64.33716998445216,-64.34308915479227,-64.34308915479227,-64.34308915479227,-64.34900845012986,-64.34900845012986,-64.34900845012986,-64.35492787028832,-64.35492787028832,-64.35492787028832,-64.360847415091,-64.360847415091,-64.360847415091,-64.36676708436127,-64.36676708436127,-64.36676708436127,-64.36676708436127,-64.36750705176287,-64.36750705176287,-64.3726868779224,-64.3726868779224,-64.37268687792239,-64.37564682125682,-64.37564682125681,-64.37860679559769,-64.37860679559769,-64.37860679559769,-64.37860679559769,-64.3815668009229,-64.3815668009229,-64.38452683721039,-64.38452683721037,-64.38452683721037,-64.38600686695806,-64.38600686695806,-64.39044700258368,-64.3904470025837,-64.3904470025837,-64.3904470025837,-64.39044700258368,-64.3919270632439,-64.3919270632439,-64.39636729154081,-64.39636729154081,-64.39636729154081,-64.39636729154081,-64.39932748230804,-64.39932748230804,-64.40228770390492,-64.40228770390492,-64.40228770390492,-64.40228770390492,-64.40228770390492,-64.40228770390492,-64.40228770390492,-64.40228770390492,-64.40524795630931,-64.40524795630931,-64.40820823949912,-64.40820823949912,-64.40820823949912,-64.40820823949912,-64.40820823949912,-64.40820823949912,-64.40820823949912,-64.40820823949912,-64.40376782625755,-64.40376782625755,-64.40228770390492,-64.40228770390492,-64.40228770390492,-64.40228770390492,-64.40228770390492,-64.40228770390492,-64.40228770390492,-64.40228770390492,-64.39932748230804,-64.39932748230804,-64.39636729154081,-64.39636729154081,-64.39636729154081,-64.39636729154081,-64.39340713162532,-64.39340713162532,-64.39044700258368,-64.3904470025837,-64.39044700258368,-64.39044700258368,-64.3904470025837,-64.38748690443799,-64.38748690443799,-64.38452683721037,-64.38452683721037,-64.38452683721037,-64.37860679559769,-64.37860679559769,-64.37860679559769,-64.37860679559769,-64.37287187347199,-64.37287187347199,-64.37268687792239,-64.3726868779224,-64.37268687792239,-64.36676708436127,-64.36676708436127,-64.36676708436127,-64.36380723417872,-64.36380723417872,-64.360847415091,-64.360847415091,-64.360847415091,-64.35492787028832,-64.35492787028832,-64.35492787028832,-64.34974837082714,-64.34974837082714,-64.34900845012986,-64.34900845012986,-64.34900845012986,-64.34456896691505,-64.34456896691506,-64.34308915479227,-64.34308915479227,-64.34308915479227,-64.33864976530901,-64.33864976530903,-64.33716998445216,-64.33716998445216,-64.33716998445216,-64.33199081308038,-64.33199081308038,-64.33125093928612,-64.33125093928612,-64.33125093928612,-64.32533201947068,-64.32533201947068,-64.32533201947068,-64.31941322518237,-64.31941322518237,-64.31645387516603,-64.31645387516603,-64.31349455659768,-64.31349455659768,-64.30757601389305,-64.30757601389305,-64.30461678980092,-64.30461678980092,-64.30165759724495,-64.30165759724495,-64.30165759724495,-64.29573930682979,-64.29573930682979,-64.29130067196485,-64.29130067196485,-64.2898211428239,-64.2898211428239,-64.28390310540365,-64.28390310540365,-64.27798519474537,-64.27798519474537,-64.27354684504525,-64.27354684504525,-64.27206741102533,-64.27206741102533,-64.26910856682225,-64.26910856682224,-64.26614975441981,-64.26614975441981,-64.26614975441981,-64.26023222510501,-64.26023222510501,-64.25431482325716,-64.25431482325716,-64.24839754905243,-64.24839754905243,-64.24248040266693,-64.24248040266693,-64.23656338427681,-64.23656338427681,-64.23064649405811,-64.23064649405811,-64.22472973218694,-64.22472973218693,-64.21881309883928,-64.21881309883928,-64.21289659419115,-64.21289659419115,-64.20698021841851,-64.20698021841851,-64.20106397169728,-64.19810589678593,-64.19810589678593,-64.19514785420338,-64.19514785420338,-64.18997135754131,-64.18997135754131,-64.18923186611271,-64.18923186611271,-64.18331600760109,-64.18331600760109,-64.17740027884435,-64.17740027884435,-64.17148468001827,-64.16704806627145,-64.16704806627145,-64.16556921129862,-64.16556921129863,-64.15965387286113,-64.15965387286113,-64.15373866488149,-64.14930234461539,-64.14930234461539,-64.14782358753537,-64.14782358753537,-64.14190864099841,-64.14190864099842,-64.13599382544625,-64.13007914105444,-64.13007914105444,-64.12416458799854,-64.1197287595014,-64.1197287595014,-64.11825016645409,-64.11825016645409,-64.11233587659653,-64.10937878110521,-64.10937878110521,-64.10642171860138,-64.10642171860138,-64.10050769264406,-64.0975507292344,-64.0975507292344,-64.09459379889996,-64.09459379889996,-64.08868003754445,-64.08350560509625,-64.08350560509624,-64.08276640875289,-64.08276640875289,-64.07685291270056,-64.07093954956278,-64.07093954956278,-64.0650263195148,-64.05911322273181,-64.05393937250339,-64.05393937250338,-64.05320025938903,-64.05320025938903,-64.0362012346676,-64.0362012346676,-64.03546217175342,-64.03546217175342,-64.02954974392279,-64.02363745040788,-64.01772529138368,-64.01772529138368,-64.00590137750739,-63.99407800369342,-63.988166519747,-63.988166519747,-63.98225517134075,-63.97634395864947,-63.97043288184791,-63.96452194111085,-63.95861113661296,-63.95270046852893,-63.94678993703342,-63.94087954230103,-63.94087954230103,-63.93496928450637,-63.91132962619552,-63.88769217284712,-63.88769217284712,-63.88178315534325,-63.87587427652128,-63.86996553655546,-63.86405693562002,-63.85814847388912,-63.85224015153695,-63.84633196873762,-63.84042392566521,-63.84042392566521,-63.82860825939744,-63.81679315412578,-63.81679315412578,-63.81670085082803,-63.81670085082803,-63.8108858122984,-63.80497861124188,-63.79907155113008,-63.79907155113008,-63.79611807398279,-63.79611807398279,-63.79316463213688,-63.78135121820144,-63.78135121820144,-63.77839795318823,-63.77839795318823,-63.77544472360674,-63.7695383708257,-63.76363216003202,-63.76363216003202,-63.75772609139934,-63.75182016510129,-63.75182016510129,-63.75163560719985,-63.75163560719985,-63.74591438131149,-63.74000874020349,-63.74000874020349,-63.73927054510595,-63.73927054510595,-63.73410324195082,-63.728197886727,-63.728197886727,-63.72229267470549,-63.71638760605973,-63.71638760605973,-63.71048268096312,-63.71048268096312,-63.70753027229994,-63.70753027229994,-63.70457789958907,-63.69867326211089,-63.69867326211089,-63.69276876870191,-63.69276876870191,-63.68981657607753,-63.68981657607753,-63.68686441953542,-63.68096021478466,-63.68096021478466,-63.67505615462287,-63.67505615462287,-63.66915223922321,-63.66915223922321,-63.66767628301267,-63.66767628301267,-63.66324846875885,-63.66324846875885,-63.66029663793151,-63.66029663793151,-63.65734484340292,-63.65144136332851,-63.65144136332851,-63.64553802870868,-63.64553802870868,-63.63963483971646,-63.63963483971646,-63.63373179652485,-63.63373179652485,-63.62782889930682,-63.62782889930682,-63.6219261482353,-63.6219261482353,-63.61602354348319,-63.61602354348319,-63.61602354348319,-63.61307229603095,-63.61307229603095,-63.61012108522338,-63.61012108522338,-63.60864549356809,-63.60864549356809,-63.60421877362868,-63.60421877362868,-63.59831660887191,-63.59831660887191,-63.59241459112586,-63.59241459112586,-63.58946363743583,-63.58946363743583,-63.58651272056326,-63.58651272056325,-63.58061099735682,-63.58061099735682,-63.58061099735682,-63.57766019106612,-63.57766019106612,-63.57470942167922,-63.57470942167922,-63.56880799370312,-63.56880799370312,-63.56733265980767,-63.56733265980767,-63.56290671360111,-63.56290671360111,-63.56290671360111,-63.55995612905684,-63.55995612905684,-63.5570055815458,-63.5570055815458,-63.55110459770974,-63.55110459770974,-63.55110459770974,-63.54520376226543,-63.54520376226543,-63.54520376226543,-63.53930307538538,-63.53930307538538,-63.53930307538538,-63.53930307538538,-63.53635278771083,-63.53635278771083,-63.53340253724202,-63.53340253724202,-63.5275021480078,-63.5275021480078,-63.5275021480078,-63.5275021480078,-63.52602707398649,-63.52602707398649,-63.52160190785509,-63.52160190785509,-63.52160190785509,-63.5201268711311,-63.5201268711311,-63.51570181695626,-63.51570181695625,-63.51570181695626,-63.51570181695626,-63.50980187548362,-63.50980187548362,-63.50980187548362,-63.50980187548362,-63.5039020836095,-63.5039020836095,-63.5039020836095,-63.5039020836095,-63.5039020836095,-63.5039020836095,-63.49800244150612,-63.49800244150612,-63.49800244150612,-63.49800244150612,-63.49800244150612,-63.49210294934574,-63.49210294934574,-63.49210294934574,-63.49210294934574,-63.49210294934574,-63.49210294934574,-63.49210294934574,-63.49210294934574,-63.49210294934574,-63.49210294934574,-63.49210294934574,-63.49210294934574,-63.49210294934574,-63.49210294934574,-63.49210294934574,-63.49210294934574,-63.49210294934574,-63.49210294934574,-63.49210294934574,-63.49210294934574,-63.49800244150612,-63.49800244150612,-63.49800244150612,-63.49800244150612,-63.49800244150612,-63.5009522438257,-63.5009522438257,-63.5039020836095,-63.5039020836095,-63.5039020836095,-63.5039020836095,-63.5039020836095,-63.5039020836095,-63.5039020836095,-63.50980187548362,-63.50980187548362,-63.50980187548362,-63.51570181695625,-63.51570181695625,-63.51570181695626,-63.51570181695626,-63.51570181695625,-63.52160190785509,-63.52160190785509,-63.52160190785509,-63.5275021480078,-63.5275021480078,-63.5275021480078,-63.5275021480078,-63.53340253724202,-63.53340253724202,-63.53635278771083,-63.53635278771083,-63.53930307538538,-63.53930307538538,-63.53930307538538,-63.53930307538538,-63.54520376226543,-63.54520376226543,-63.54520376226543,-63.55073579114526,-63.55073579114526,-63.55110459770974,-63.55110459770974,-63.55110459770974,-63.55553032168449,-63.55553032168449,-63.5570055815458,-63.5570055815458,-63.5570055815458,-63.56143141670118,-63.56143141670118,-63.56290671360111,-63.56290671360111,-63.56290671360111,-63.56733265980767,-63.56733265980767,-63.56880799370311,-63.56880799370312,-63.56880799370312,-63.57470942167922,-63.57470942167922,-63.57470942167922,-63.58061099735682],"lat":[-8.538802580648639,-8.533796328586158,-8.534011460805273,-8.531508411263015,-8.531723462407548,-8.529220443475968,-8.524214681149205,-8.524617504238122,-8.524304641947705,-8.524331493383833,-8.514633444874276,-8.515062551438323,-8.510057402290638,-8.510432591349252,-8.509806946799529,-8.509860536458504,-8.505481158786239,-8.505695397988319,-8.503192961764029,-8.503407119991426,-8.500904714601965,-8.495900179870835,-8.496328069978768,-8.491323658798297,-8.49164434098881,-8.490393249876462,-8.490500118761693,-8.486746937694415,-8.486960568928588,-8.484458502206062,-8.484672052534261,-8.477166221722094,-8.477592896357118,-8.472589225444489,-8.473015576606132,-8.468012030025672,-8.468384808639613,-8.467759364523408,-8.467812609854874,-8.463434635706982,-8.463753921442017,-8.462503077760713,-8.462609481197516,-8.458857042729814,-8.459069743195958,-8.456568171819761,-8.456780791486217,-8.454279251335649,-8.454491790211778,-8.451990281307673,-8.452202739402841,-8.449701261766027,-8.449913639089608,-8.447412192740922,-8.447624489302285,-8.445123074262563,-8.445335290071082,-8.442833906361162,-8.44304604142622,-8.44054468906694,-8.440756743397914,-8.43825542241011,-8.438467396016392,-8.435966106420903,-8.436283938365209,-8.435033282472951,-8.435139201349765,-8.431387326566279,-8.431704916409148,-8.430454291960942,-8.430560130143448,-8.426808349744954,-8.427231470291266,-8.42222917619889,-8.422651974096691,-8.417649806170115,-8.418072281494709,-8.413070239900724,-8.413703439612931,-8.411202374857577,-8.411413341137155,-8.408912308037205,-8.409334059720329,-8.404332027666186,-8.404753457026105,-8.399751551856779,-8.400172658969044,-8.400488437659961,-8.39923791273133,-8.39934314724,-8.395591665791622,-8.396012372059259,-8.391010477736391,-8.391430861931505,-8.391824900665217,-8.391512265112452,-8.391538530952012,-8.386849157244296,-8.387269140795127,-8.387479103070634,-8.384978054609579,-8.385187936410583,-8.382686919894166,-8.383106502901743,-8.378104504995173,-8.378942948771169,-8.373940835830313,-8.374359696698752,-8.374778478923783,-8.369776251266284,-8.370613093880509,-8.370822255375836,-8.36832097720243,-8.368530058323357,-8.366028812313617,-8.366446794162831,-8.366858168217009,-8.366779998248807,-8.366786527321771,-8.361861998478426,-8.362279580292791,-8.362905805517757,-8.360404292135403,-8.360612933889023,-8.358111452792983,-8.358528556015537,-8.358945580556323,-8.359258297313488,-8.358007424902246,-8.358111638829975,-8.354359115581019,-8.354775740295624,-8.355608753595526,-8.355816957710545,-8.353314967679282,-8.353523091544968,-8.351021133948855,-8.351437201517257,-8.351853190340599,-8.352269100396494,-8.352684931662573,-8.35289281774244,-8.350390408393002,-8.350598214267245,-8.348095837447037,-8.348926621950627,-8.350587244792175,-8.353904700819017,-8.355561531155699,-8.356389471282801,-8.356803322508402,-8.361813240515115,-8.36222725345978,-8.36264118708022,-8.363055041354267,-8.363468816259775,-8.365974396648452,-8.366181314531266,-8.368687048155142,-8.368894006376538,-8.369721640584237,-8.370135338442626,-8.374834629535785,-8.37486049711095,-8.375173795749783,-8.375561786172845,-8.375975565515136,-8.376389265239411,-8.381089581665057,-8.381115449345049,-8.381428816335879,-8.382230589114082,-8.382644290226425,-8.387659065882829,-8.388072927573884,-8.388486709441683,-8.393502337528401,-8.393916279793659,-8.394330142144073,-8.39918985174843,-8.3992027909299,-8.399359561797265,-8.39976064494777,-8.400174587507838,-8.405191919615348,-8.405606022210092,-8.406020044706754,-8.41103822840422,-8.411452410754025,-8.413961761873283,-8.414168882963784,-8.416678386906465,-8.417299809752492,-8.422319455946885,-8.422733877337906,-8.425243959561808,-8.425451200079298,-8.427961435041746,-8.428168715409688,-8.428583215827343,-8.433604323707021,-8.434018983390082,-8.437785237549884,-8.437888934831964,-8.439144414231333,-8.439455520805119,-8.441966639016048,-8.442174078125637,-8.444685348952868,-8.444892827811277,-8.445307725036558,-8.450330904147224,-8.450745960231213,-8.455769749551472,-8.456184964381718,-8.46120936376238,-8.461624737226382,-8.466649746518156,-8.467065278503355,-8.472090897556845,-8.472506587950637,-8.477532816616348,-8.477948665306071,-8.482975503434403,-8.483391510307353,-8.488418957748603,-8.488835122692016,-8.493863179296378,-8.494279502197443,-8.501822639272723,-8.502030949606256,-8.504545573269079,-8.504753923041626,-8.508526121461461,-8.508630333550885,-8.509887794162108,-8.510200444713199,-8.515230697404718,-8.515647732566544,-8.520678593713743,-8.521095786338329,-8.526127255790822,-8.529901100154937,-8.530005490119267,-8.531263499316577,-8.531576683372363,-8.536609130043511,-8.53702687619462,-8.546464156080866,-8.546516424594341,-8.547145626421401,-8.547511496307617,-8.552545527358243,-8.555062681124758,-8.555271900620635,-8.557789206248275,-8.557998464952727,-8.563033472007664,-8.563452166693766,-8.56848778097741,-8.573523763557763,-8.573942853677945,-8.578979443227917,-8.584016400854283,-8.58443588621266,-8.589473450549271,-8.594511382741761,-8.594931263142218,-8.599969801785287,-8.60500870806351,-8.60542898330972,-8.61046849577856,-8.615508375661628,-8.619918571865181,-8.619971186227049,-8.620601240937001,-8.620969531370475,-8.631051604463817,-8.633572352127068,-8.633783073605555,-8.636303972648289,-8.636514733049303,-8.641556925556271,-8.646599484809164,-8.649120901930029,-8.649331939805748,-8.651853508213669,-8.652064584961524,-8.662152013310163,-8.665935176734376,-8.666040871312301,-8.667301986474987,-8.66761908371762,-8.672663952108076,-8.677709186574498,-8.682754787003683,-8.686539227420511,-8.686645139691043,-8.687906680459887,-8.688224430693969,-8.693271001205034,-8.703365238994929,-8.710936876562675,-8.711149220517848,-8.71367334196043,-8.713885724603156,-8.718934360583907,-8.723983361628566,-8.729032727623574,-8.734082458455337,-8.739132554010226,-8.744183014174585,-8.746708380949784,-8.746921517599082,-8.749447035098358,-8.749660210340343,-8.754711637830825,-8.764815585514572,-8.78502784850507,-8.805245928915159,-8.825469819443699,-8.845699512780614,-8.855816533215368,-8.855493006399461,-8.856757691059514,-8.856649823241479,-8.860443968221293,-8.865503144823222,-8.870562683181699,-8.87562258318215,-8.880682844709973,-8.885743467650528,-8.890804451889133,-8.890587895107092,-8.893118463030389,-8.892901825242165,-8.895432423793119,-8.905555720516256,-8.915680460581539,-8.915463264486464,-8.917994615254013,-8.917777338081828,-8.920308719316276,-8.925371752136448,-8.930435145329222,-8.93549889877964,-8.935281182456984,-8.937813134564106,-8.937595337106416,-8.945191554438544,-8.955321103829862,-8.954884608820024,-8.959949684302257,-8.965015119345074,-8.970080913833311,-8.969657283190877,-8.969815587828556,-8.969801920745553,-8.974709531312014,-8.984842438773672,-8.98440433850363,-8.989471091858375,-8.994538204075768,-8.994318882670205,-8.996852513579537,-8.996633110859365,-9.004234362330813,-9.009302311477503,-9.008862843784733,-9.013930912311563,-9.018999339117705,-9.018614315650407,-9.019247868038891,-9.019192855545686,-9.023627852790771,-9.028696756733734,-9.028366317144116,-9.029633554225992,-9.029523381930552,-9.033325182541184,-9.038394563098239,-9.038063699843702,-9.039331056032319,-9.039220742502714,-9.043022900335542,-9.048092756983875,-9.047706250677532,-9.048339981729059,-9.048284757385465,-9.052721004946591,-9.057791337163296,-9.057349044992971,-9.062419495147063,-9.067490302409144,-9.067047444798815,-9.072118369709697,-9.071896788650182,-9.074432325094977,-9.074210662466154,-9.081817627407228,-9.08137387782236,-9.086445394157302,-9.08622336702139,-9.088759199019444,-9.088537090263584,-9.09107295149874,-9.09614494125559,-9.095700299186054,-9.100772405674862,-9.100438687311364,-9.101706724664622,-9.101595459350751,-9.110472239123641,-9.110026704060102,-9.115099399432518,-9.11465353753549,-9.119726349011726,-9.119391715580953,-9.120659929078062,-9.120548358716832,-9.124353087616102,-9.124129840622537,-9.126666377726135,-9.126443048973902,-9.128979615000555,-9.134053013631759,-9.133605930920059,-9.138679445027055,-9.138232035129665,-9.143305664542758,-9.142857927384494,-9.147931671934007,-9.147483607439733,-9.15255746695601,-9.152109075050655,-9.15718304936405,-9.156734329972588,-9.161808418913482,-9.161359371960945,-9.166433575359727,-9.1659842007712,-9.171058518458286,-9.170608816158911,-9.175683247964727,-9.175233217879693,-9.180307763634692,-9.179857405689249,-9.17963219389681,-9.18216941930099,-9.181944125524929,-9.184481379343341,-9.184086957387443,-9.18472125837091,-9.184664903149278,-9.189105138597808,-9.188654037144159,-9.193728683208565,-9.193277253646576,-9.198352012931597,-9.197900255186759,-9.197561379397643,-9.198830019205294,-9.198717034619321,-9.202523041520818,-9.202070867907453,-9.20714561240494,-9.206693110435999,-9.206353676463211,-9.207622312471289,-9.207509141811824,-9.211315137196548,-9.210862219162818,-9.21593694794548,-9.21548370138381,-9.215030367187525,-9.220104967275464,-9.219651304453329,-9.21931099982544,-9.220579599566557,-9.220466138670407,-9.224272025072288,-9.223817945892286,-9.223590873438109,-9.226128060493599,-9.225900905840204,-9.228438120823483,-9.227983625188434,-9.227756344506938,-9.230293466778134,-9.230066103873035,-9.232603254017146,-9.232148341830101,-9.231750221779491,-9.232384466531499,-9.232327582990903,-9.236767424141963,-9.236312095306188,-9.235856678838525,-9.240930630687181,-9.240474885106169,-9.24001905189407,-9.239620125967699,-9.240254307926097,-9.240197309258203,-9.244636710720096,-9.243324755712358,-9.243958891084267,-9.243901829362819,-9.248340904649243,-9.247884150055002,-9.24742730788023,-9.246970378149294,-9.252043211705621,-9.251128605740712,-9.250213649653384,-9.249756040374857,-9.254828015824456,-9.254370076905946,-9.253912050506996,-9.253453936652074,-9.252995735365658,-9.252537446672237,-9.252079070596306,-9.251620607162371,-9.25116205639495,-9.256232444996773,-9.25577356435512,-9.253937168715199,-9.252099377337696,-9.247031173530946,-9.246571750779079,-9.24611224096402,-9.245652644110397,-9.245192960242846,-9.244733189386016,-9.244273331564564,-9.243813386803156,-9.243353355126466,-9.238287448483016,-9.237367611265718,-9.236447426872594,-9.231461977360857,-9.231454790799773,-9.231375659490654,-9.230922867220892,-9.230462801776872,-9.230002649684936,-9.227470856683334,-9.227240809072674,-9.224709165034742,-9.224479156703396,-9.223558907030675,-9.221027655738261,-9.220797600203976,-9.218266497936916,-9.21803648174699,-9.217576384547765,-9.21711620094333,-9.212054870398463,-9.211594844384477,-9.211134732061883,-9.206232376927877,-9.206218004415271,-9.206059869673483,-9.205614287403741,-9.205154246647687,-9.200727034147118,-9.200669549694156,-9.200037116619079,-9.199634714468008,-9.199174745563086,-9.194115937189652,-9.193656126439246,-9.193196229669944,-9.188138262605898,-9.187678524178946,-9.185149795139667,-9.184919954796172,-9.182391375084508,-9.182161574367337,-9.181701908548121,-9.176645380507781,-9.176185873334601,-9.173657863958175,-9.173428139338487,-9.170900279379023,-9.170670594461537,-9.170211160367845,-9.165156072201246,-9.164696797056978,-9.159642306825885,-9.159183190746797,-9.155392738500947,-9.155277991995716,-9.154014567394507,-9.153670341709251,-9.151143650562252,-9.150914201252657,-9.148387659689888,-9.148158250216127,-9.147699367243423,-9.142646916539066,-9.142188193050099,-9.137136340949544,-9.136677777059845,-9.131626523718888,-9.131168119543933,-9.126117465118265,-9.125659220773471,-9.12060916541868,-9.12015108101942,-9.115101624890999,-9.114643700552589,-9.109594843805917,-9.10707054834303,-9.106841738138899,-9.104317592571473,-9.104088822433972,-9.100302862199447,-9.100188515139992,-9.098926588042993,-9.098583561045558,-9.093536258197949,-9.093079059910901,-9.088032357021907,-9.087575319300079,-9.080006298257233,-9.079777931614796,-9.077255163425683,-9.077026836975843,-9.071981689586529,-9.07152521864529,-9.066480671790064,-9.063958531608971,-9.063730448490837,-9.06120845849305,-9.060980415635829,-9.05593682492324,-9.055480921393068,-9.046655922723456,-9.046542041051312,-9.045281431220669,-9.044939800680355,-9.039897767819545,-9.03737688484588,-9.037149288969344,-9.034628556350054,-9.034401000842145,-9.029359925368615,-9.028904996891013,-9.023864523055044,-9.018824405457718,-9.018369884189951,-9.013330368494451,-9.00829120926176,-9.007837095401433,-9.002798538334536,-8.997760337954418,-8.995241371557396,-8.995014590278993,-8.992495774500417,-8.99226903374826,-8.982194908692087,-8.981741855907353,-8.976705574694201,-8.971669650728568,-8.967892942266236,-8.967779834953548,-8.966520992166544,-8.966181685082592,-8.961146721653636,-8.952336396157817,-8.952223452331411,-8.950964939192495,-8.950626122635592,-8.945592478036138,-8.94055919135694,-8.935526262711148,-8.935075171972537,-8.930042847246497,-8.9199792726755,-8.914948023056567,-8.914497832684706,-8.909467187465975,-8.904436900951522,-8.899406973254235,-8.894377404486951,-8.889348194762484,-8.888899150931625,-8.878842300724742,-8.868786888026975,-8.858732913739445,-8.848680378762724,-8.848233219438384,-8.843207737821995,-8.838182616366906,-8.833157855185519,-8.828133454390205,-8.823109414093292,-8.818085734407083,-8.813062415443838,-8.808039457315786,-8.803016860135132,-8.797994624014025,-8.792972749064603,-8.787951235398955,-8.782930083129134,-8.777909292367173,-8.772888863225056,-8.767868795814744,-8.762849090248148,-8.757829746637166,-8.752810765093644,-8.753253253961113,-8.748234388823938,-8.738197745547062,-8.728162552345072,-8.7181288101114,-8.718349164066973,-8.715840893899559,-8.716061166218163,-8.71355292538543,-8.708536716044772,-8.703520869896801,-8.698505387053027,-8.693490267624917,-8.688475511723908,-8.688914644705807,-8.678885732685117,-8.66885827612677,-8.669296346200687,-8.664282918437035,-8.65926985487725,-8.654257155632566,-8.649244820814165,-8.649681828397094,-8.639657761494181,-8.634646275133427,-8.635082466080648,-8.630071099157886,-8.625060097225942,-8.620049460395828,-8.620484835001969,-8.610464166341089,-8.610681578280337,-8.608176578146352,-8.608393908761268,-8.60588893867426,-8.60087927268019,-8.595869972351776,-8.596303960423237,-8.591294780609626,-8.586285966687981,-8.586692298178724,-8.58637924509215,-8.586406330406534,-8.58171069132589,-8.5767023643191,-8.577027007520179,-8.575774937020309,-8.575883126132931,-8.572127006025456,-8.567119166441527,-8.567443382175293,-8.56619143357692,-8.566299480212558,-8.562543725904808,-8.557536374251642,-8.557860162653592,-8.556608336083688,-8.556716240287521,-8.552960852160403,-8.547953988945821,-8.548385127279285,-8.543378385988703,-8.538372011720428,-8.538802580648639]}]],[[{"lng":[-64.90595499758042,-64.90595499758042,-64.9000247449475,-64.9000247449475,-64.89409460058815,-64.89409460058815,-64.88816456468157,-64.88519958745405,-64.88519958745405,-64.88223463740691,-64.88223463740691,-64.87704604029452,-64.87704604029453,-64.87630481894331,-64.87630481894331,-64.87037510946985,-64.87037510946985,-64.86148075000791,-64.86148075000791,-64.85851601820967,-64.85851601820967,-64.85258663678106,-64.85258663678106,-64.84665736505872,-64.84369277039335,-64.84369277039335,-64.84072820322167,-64.84072820322167,-64.83479915144885,-64.83479915144885,-64.82294137881149,-64.82294137881149,-64.81701265830473,-64.8118251187292,-64.8118251187292,-64.81108404857771,-64.81108404857771,-64.79996820454801,-64.79996820454801,-64.79922716217804,-64.79922716217804,-64.79329888586297,-64.78755597450387,-64.78755597450387,-64.78737072104269,-64.78737072104269,-64.77551472660137,-64.77551472660137,-64.76958689733763,-64.76365918028337,-64.75921346623757,-64.75921346623755,-64.75773157561716,-64.75773157561716,-64.75180408351757,-64.74291305682114,-64.74291305682114,-64.73994943773238,-64.73994943773238,-64.73402228440378,-64.72809524435581,-64.72365003876757,-64.72365003876757,-64.7221683177669,-64.72216831776689,-64.71624150481541,-64.70438822053833,-64.6999433565982,-64.6999433565982,-64.69846174956938,-64.69846174956938,-64.69253539295123,-64.68660915086215,-64.68068302348037,-64.67475701098412,-64.66883111355158,-64.66883111355158,-64.64512867802117,-64.6214280977577,-64.59772938415182,-64.57403254858703,-64.56218483862546,-64.5562611612218,-64.5562611612218,-64.55033760243975,-64.54441416245692,-64.53849084145085,-64.53256763959914,-64.52664455707927,-64.52664455707927,-64.52368306062422,-64.52368306062422,-64.51479875074499,-64.50295342386762,-64.50295342386762,-64.50147279179045,-64.50147279179045,-64.49703094066879,-64.49110857786631,-64.48518633563754,-64.48518633563754,-64.48222525979369,-64.48222525979369,-64.47926421415976,-64.46742033416615,-64.46742033416615,-64.46149857600479,-64.4555769393033,-64.4555769393033,-64.45261616655537,-64.45261616655537,-64.44373403098854,-64.44373403098854,-64.44077338009902,-64.44077338009902,-64.43781275972947,-64.43189161063871,-64.43189161063871,-64.42893108196178,-64.42893108196178,-64.42004967967026,-64.42004967967026,-64.41856947277934,-64.41856947277934,-64.41412889814654,-64.40820823949912,-64.40820823949912,-64.40228770390492,-64.40228770390492,-64.39932748230804,-64.39932748230804,-64.39636729154081,-64.39044700258368,-64.39044700258368,-64.38452683721037,-64.38452683721037,-64.3815668009229,-64.3815668009229,-64.37860679559769,-64.37268687792239,-64.3726868779224,-64.36676708436127,-64.36676708436127,-64.36667458857261,-64.36667458857261,-64.360847415091,-64.360847415091,-64.35936751721459,-64.35936751721459,-64.35492787028832,-64.35492787028832,-64.35196814461752,-64.35196814461752,-64.34900845012986,-64.34308915479227,-64.34308915479227,-64.33716998445217,-64.33716998445217,-64.33125093928612,-64.33125093928612,-64.32533201947068,-64.32533201947068,-64.31941322518237,-64.31941322518237,-64.31941322518237,-64.31645387516603,-64.31645387516603,-64.31349455659768,-64.31349455659768,-64.31053526949933,-64.31053526949933,-64.30757601389305,-64.30757601389305,-64.30609639790633,-64.30609639790633,-64.30165759724495,-64.30165759724495,-64.29573930682979,-64.29573930682979,-64.2898211428239,-64.2898211428239,-64.2898211428239,-64.28686210827955,-64.28686210827955,-64.28390310540365,-64.28390310540365,-64.27798519474537,-64.27798519474537,-64.27780026208178,-64.27780026208178,-64.27502628700705,-64.27502628700705,-64.27206741102533,-64.27206741102533,-64.26614975441981,-64.26614975441981,-64.26614975441981,-64.26319097384005,-64.26319097384005,-64.26023222510503,-64.26023222510501,-64.25431482325716,-64.25431482325716,-64.24839754905243,-64.24839754905243,-64.24839754905243,-64.24248040266693,-64.24248040266693,-64.23656338427681,-64.23656338427681,-64.23656338427681,-64.23064649405811,-64.23064649405811,-64.23064649405811,-64.22916729155087,-64.22916729155087,-64.22472973218693,-64.22472973218693,-64.22472973218693,-64.21881309883928,-64.21881309883928,-64.21881309883928,-64.21289659419114,-64.21289659419115,-64.21289659419114,-64.21289659419114,-64.21289659419115,-64.20993839018439,-64.20993839018439,-64.20698021841851,-64.20698021841851,-64.20698021841851,-64.20402207891547,-64.20402207891547,-64.20106397169728,-64.20106397169728,-64.20106397169728,-64.20106397169728,-64.20106397169728,-64.20106397169728,-64.19810589678593,-64.19810589678593,-64.19514785420338,-64.19514785420338,-64.19514785420338,-64.19514785420338,-64.19218984397165,-64.19218984397166,-64.18923186611271,-64.18923186611271,-64.18923186611271,-64.18923186611271,-64.18923186611271,-64.18923186611271,-64.18923186611271,-64.18923186611271,-64.18923186611271,-64.18923186611271,-64.18923186611271,-64.18923186611271,-64.18923186611271,-64.18923186611271,-64.18923186611271,-64.18923186611271,-64.18923186611271,-64.18923186611271,-64.18923186611271,-64.18923186611271,-64.18923186611271,-64.19514785420338,-64.19514785420338,-64.19514785420338,-64.19514785420338,-64.19810589678593,-64.19810589678593,-64.20106397169728,-64.20106397169728,-64.20106397169728,-64.20106397169728,-64.20106397169728,-64.20106397169728,-64.20402207891547,-64.20402207891547,-64.20698021841851,-64.20698021841851,-64.20698021841851,-64.20993839018439,-64.20993839018439,-64.21289659419115,-64.21289659419115,-64.21289659419114,-64.21289659419114,-64.21289659419114,-64.21881309883928,-64.21881309883928,-64.21881309883928,-64.22399014598624,-64.22399014598624,-64.22472973218693,-64.22472973218693,-64.22472973218694,-64.22472973218693,-64.23064649405811,-64.23064649405811,-64.23064649405811,-64.23656338427681,-64.23656338427681,-64.23656338427681,-64.24248040266693,-64.24248040266693,-64.24248040266693,-64.24839754905243,-64.24839754905243,-64.25135617018839,-64.25135617018839,-64.25431482325716,-64.25431482325716,-64.25431482325716,-64.26023222510501,-64.26023222510501,-64.26319097384005,-64.26319097384005,-64.26614975441981,-64.26614975441981,-64.26614975441981,-64.27206741102533,-64.27206741102533,-64.27798519474537,-64.27798519474537,-64.28094413421825,-64.28094413421825,-64.28390310540365,-64.28390310540365,-64.28390310540365,-64.28945126177474,-64.28945126177474,-64.2898211428239,-64.2898211428239,-64.29573930682979,-64.29573930682979,-64.30128770039394,-64.30128770039394,-64.30165759724495,-64.30165759724495,-64.30461678980092,-64.30461678980092,-64.30757601389305,-64.30757601389305,-64.30757601389305,-64.31349455659768,-64.31349455659768,-64.31867338473124,-64.31867338473124,-64.31941322518237,-64.31941322518237,-64.3223726066246,-64.32237260662461,-64.32533201947068,-64.32533201947068,-64.33125093928612,-64.33125093928612,-64.33716998445216,-64.33716998445216,-64.34308915479227,-64.34308915479227,-64.34863849051256,-64.34863849051256,-64.34900845012986,-64.34900845012986,-64.3541879359484,-64.3541879359484,-64.35492787028832,-64.35492787028832,-64.35936751721459,-64.35936751721459,-64.360847415091,-64.360847415091,-64.36528715538454,-64.36528715538454,-64.36676708436127,-64.36676708436127,-64.37120691788951,-64.37120691788951,-64.3726868779224,-64.37268687792239,-64.37786679910683,-64.37786679910683,-64.37860679559769,-64.37860679559769,-64.38450371180694,-64.38450371180694,-64.38452683721039,-64.38452683721037,-64.39044700258368,-64.39044700258368,-64.39636729154081,-64.39636729154081,-64.40228770390492,-64.40228770390492,-64.40820823949912,-64.41116855345224,-64.41116855345224,-64.41412889814654,-64.41412889814654,-64.42004967967026,-64.42004967967026,-64.42597058389329,-64.42597058389329,-64.43189161063871,-64.43633246099658,-64.43633246099658,-64.43781275972947,-64.43781275972947,-64.44373403098854,-64.44373403098854,-64.45483674326458,-64.45483674326458,-64.4555769393033,-64.4555769393033,-64.46149857600479,-64.46445943991405,-64.46445943991405,-64.46742033416615,-64.46742033416615,-64.47334221361021,-64.47334221361021,-64.47926421415976,-64.48518633563754,-64.48518633563754,-64.49110857786631,-64.49703094066879,-64.49703094066879,-64.50295342386762,-64.50887602728548,-64.50887602728548,-64.51479875074499,-64.52368306062422,-64.52368306062422,-64.52664455707927,-64.52664455707927,-64.53256763959914,-64.53849084145085,-64.53849084145085,-64.55033760243975,-64.5560760482134,-64.5560760482134,-64.5562611612218,-64.5562611612218,-64.56218483862546,-64.56810863447308,-64.57403254858703,-64.57403254858703,-64.59772938415182,-64.60069162088055,-64.60069162088055,-64.60365388693148,-64.60365388693148,-64.60957850691092,-64.61550324391229,-64.6214280977577,-64.62735306826924,-64.633278155269,-64.63920335857895,-64.63920335857895,-64.64512867802117,-64.65697966459018,-64.66883111355158,-64.68068302348037,-64.69253539295123,-64.70438822053833,-64.71624150481541,-64.7221683177669,-64.7221683177669,-64.72809524435581,-64.73402228440378,-64.73994943773238,-64.74587670416314,-64.75180408351757,-64.75773157561716,-64.75773157561716,-64.7606953638906,-64.7606953638906,-64.76365918028337,-64.77551472660137,-64.78144266789594,-64.78144266789593,-64.78440668049896,-64.78440668049896,-64.78737072104269,-64.79329888586297,-64.79922716217804,-64.80515554980921,-64.80515554980921,-64.81108404857771,-64.81701265830473,-64.81701265830473,-64.81997700472182,-64.81997700472182,-64.82294137881149,-64.82887020991915,-64.83479915144885,-64.83479915144885,-64.84665736505872,-64.84665736505872,-64.84702794132392,-64.84702794132392,-64.85258663678106,-64.85851601820967,-64.85851601820967,-64.85888660818748,-64.85888660818748,-64.87037510946985,-64.87037510946985,-64.87630481894331,-64.88223463740691,-64.88223463740691,-64.89409460058815,-64.89409460058815,-64.9000247449475,-64.9000247449475,-64.90595499758042,-64.90595499758042,-64.90743757763538,-64.90743757763538,-64.9118853583077,-64.91781582695012,-64.91781582695012,-64.92374640332839,-64.92374640332839,-64.92967708726324,-64.92967708726324,-64.93041843030873,-64.93041843030873,-64.93560787857535,-64.93560787857535,-64.93857331444184,-64.93857331444184,-64.94153877708538,-64.94153877708538,-64.94450426648356,-64.94450426648356,-64.94746978261396,-64.94746978261396,-64.95043532545415,-64.95043532545415,-64.95340089498168,-64.95933211400914,-64.95933211400914,-64.96526343951687,-64.96526343951689,-64.97119487132541,-64.97119487132541,-64.97712640925526,-64.97712640925526,-64.98009221795958,-64.98009221795958,-64.9830580531269,-64.9830580531269,-64.98454098062717,-64.98454098062717,-64.98898980276076,-64.98898980276076,-64.98936054062041,-64.98936054062041,-64.99492165797726,-64.99492165797726,-65.00085361859679,-65.00085361859679,-65.00085361859679,-65.00381963837657,-65.00381963837657,-65.00678568443976,-65.00678568443976,-65.0082687173206,-65.0082687173206,-65.01271785532646,-65.01271785532646,-65.01865013107724,-65.01865013107724,-65.01865013107724,-65.02013321637889,-65.02013321637889,-65.02458251151238,-65.02458251151238,-65.03051499645214,-65.03051499645214,-65.03051499645214,-65.03053817042611,-65.03053817042611,-65.03644758571676,-65.03644758571676,-65.03941391941471,-65.03941391941471,-65.04238027912646,-65.04238027912646,-65.04238027912646,-65.04534666482954,-65.04534666482954,-65.04831307650143,-65.04831307650143,-65.05127951411968,-65.05127951411968,-65.05424597766181,-65.05424597766181,-65.05424597766181,-65.05721246710533,-65.05721246710533,-65.06017898242776,-65.06017898242777,-65.06054979866155,-65.06054979866155,-65.06611209061938,-65.06611209061938,-65.06611209061938,-65.07204530205674,-65.07204530205674,-65.07204530205675,-65.07797861655992,-65.07797861655992,-65.07797861655992,-65.07797861655992,-65.08391203394893,-65.08391203394893,-65.08391203394893,-65.08687878116937,-65.08687878116937,-65.08984555404379,-65.08984555404379,-65.08984555404379,-65.08984555404379,-65.08984555404379,-65.09281235254964,-65.09281235254964,-65.09577917666446,-65.09577917666446,-65.09726259831821,-65.09726259831821,-65.10171290163095,-65.10171290163095,-65.10171290163095,-65.10171290163095,-65.10171290163095,-65.10171290163095,-65.10171290163095,-65.10171290163095,-65.10171290163095,-65.10764672876311,-65.10764672876311,-65.10764672876311,-65.10764672876311,-65.10764672876311,-65.10764672876311,-65.10764672876311,-65.10764672876311,-65.10764672876311,-65.10467980243757,-65.10467980243757,-65.10171290163095,-65.10171290163095,-65.10171290163095,-65.10171290163095,-65.10171290163095,-65.10171290163095,-65.10171290163095,-65.10171290163095,-65.10171290163095,-65.10171290163095,-65.09577917666448,-65.09577917666446,-65.09577917666448,-65.09281235254964,-65.09281235254964,-65.08984555404379,-65.08984555404379,-65.08984555404379,-65.08984555404379,-65.08984555404379,-65.08984555404379,-65.08391203394893,-65.08391203394893,-65.08391203394893,-65.07872028811066,-65.07872028811066,-65.07797861655992,-65.07797861655992,-65.07797861655992,-65.07797861655992,-65.07501194643635,-65.07501194643635,-65.07204530205675,-65.07204530205674,-65.06759538380646,-65.06759538380646,-65.06611209061938,-65.06611209061938,-65.06611209061938,-65.06611209061938,-65.06017898242776,-65.06017898242777,-65.06017898242777,-65.05572921914731,-65.05572921914731,-65.05424597766181,-65.05424597766181,-65.05424597766181,-65.05127951411968,-65.05127951411968,-65.04831307650143,-65.04831307650143,-65.04831307650143,-65.04238027912646,-65.04238027912646,-65.04238027912646,-65.03644758571676,-65.03644758571676,-65.03051499645214,-65.03051499645214,-65.02754874093041,-65.02754874093041,-65.02458251151238,-65.02458251151238,-65.02458251151238,-65.01865013107724,-65.01865013107724,-65.01271785532646,-65.01271785532646,-65.00975175676386,-65.00975175676388,-65.00678568443976,-65.00678568443976,-65.00678568443976,-65.00085361859679,-65.00085361859679,-64.99640463825763,-64.99640463825763,-64.99492165797726,-64.99492165797726,-64.99492165797726,-64.98898980276076,-64.98898980276076,-64.9830580531269,-64.9830580531269,-64.98009221795958,-64.98009221795958,-64.97712640925526,-64.97712640925526,-64.97712640925526,-64.97119487132541,-64.97119487132542,-64.96526343951689,-64.96526343951689,-64.95933211400914,-64.95933211400914,-64.95414229153084,-64.95414229153083,-64.95340089498168,-64.95340089498168,-64.94450426648356,-64.94450426648356,-64.94153877708538,-64.94153877708538,-64.93264246950835,-64.93264246950835,-64.92967708726324,-64.92967708726324,-64.91929846095145,-64.91929846095145,-64.91781582695012,-64.91781582695012,-64.91336796535826,-64.91336796535826,-64.9118853583077,-64.9118853583077,-64.90604765863596,-64.90604765863594,-64.90595499758042],"lat":[-9.637122344964455,-9.642172731425587,-9.641714088945161,-9.646844747694447,-9.646385776178333,-9.651516544873772,-9.651057244245477,-9.650827558577392,-9.653392896013971,-9.653163128048657,-9.655728492897591,-9.65532623945227,-9.655967568423753,-9.65591009408141,-9.660399521885752,-9.659939468478925,-9.665070330961118,-9.664379721426076,-9.666945105467606,-9.666714796345627,-9.669280207657529,-9.6688194010875,-9.673950246641436,-9.673489110526106,-9.673258507083993,-9.675823882456747,-9.675593196609226,-9.678158599153535,-9.677697039036586,-9.682827866721345,-9.68190399265929,-9.687034693342044,-9.686572379295404,-9.686167777079687,-9.686809083638442,-9.686751273743582,-9.691240544223398,-9.690372832379092,-9.691014122990271,-9.690956260054861,-9.695445418837009,-9.694982256068162,-9.694533477127147,-9.694693794589309,-9.694679316144514,-9.699649316655043,-9.698722047698872,-9.70385223715026,-9.703388225248705,-9.702924118957641,-9.702575977310682,-9.703858416110947,-9.703742342352431,-9.707589743174697,-9.707125212162657,-9.706428238714555,-9.708992984736113,-9.708760554052699,-9.711325326788268,-9.710860276585558,-9.710395132039118,-9.710046211730722,-9.711328467856386,-9.711212134531207,-9.715058987181191,-9.714593417708221,-9.713661995824655,-9.713312615389651,-9.714594720852611,-9.71447823414546,-9.718324634723588,-9.717858451604073,-9.717392174211458,-9.716925802569955,-9.716459336703782,-9.715992776637167,-9.721120427529756,-9.719252298425831,-9.717382663270497,-9.715511523620318,-9.713638881034582,-9.712701996628901,-9.712233413733363,-9.707110269591421,-9.70664183062066,-9.706173297960746,-9.705704671636136,-9.705235951671309,-9.704767138090743,-9.702206288967703,-9.701971906558882,-9.699411202592287,-9.698708093521644,-9.697770287548256,-9.693930017065737,-9.69381280967888,-9.692532777253954,-9.692181164718862,-9.691712266307565,-9.691243274549795,-9.688683601489162,-9.688449130177675,-9.685889602416927,-9.685655167354749,-9.684717194015208,-9.679598991585799,-9.67913010352032,-9.678661122328652,-9.676102388215369,-9.675867922329971,-9.673309333635823,-9.672605975305819,-9.670047651331723,-9.669813211698246,-9.667255033196872,-9.667020629976735,-9.666551753841667,-9.663993840162062,-9.663759426926514,-9.661201658773178,-9.660498458830721,-9.656662236190865,-9.656545060668254,-9.655266377654753,-9.654914861077676,-9.654446091167076,-9.649331991828696,-9.64886336810504,-9.646306566767032,-9.646072279897984,-9.643515624234736,-9.643281373954713,-9.642812803974898,-9.637700109002861,-9.637231685524494,-9.634675586529939,-9.634441399883512,-9.63188544665857,-9.631651296679754,-9.631182927430586,-9.626071637727099,-9.625603415293622,-9.620572561091883,-9.62056524806319,-9.620485395982504,-9.620024633455467,-9.616192009061702,-9.616075020638066,-9.614797537173072,-9.614446582202195,-9.611891769583496,-9.611657830634245,-9.609103163962656,-9.608869261819727,-9.608401388480171,-9.603292672593829,-9.602824946624585,-9.597716814810124,-9.597249236331438,-9.592141688754083,-9.591674257886153,-9.586567294711022,-9.586100011573993,-9.580993632966115,-9.578440573076112,-9.578207076794541,-9.575654163099365,-9.575420703804374,-9.572867936324633,-9.572634514031218,-9.570081892787506,-9.56984850751067,-9.566019827412111,-9.565903171130181,-9.564627002589484,-9.564277044369723,-9.559172765929603,-9.558706314666095,-9.553602621569889,-9.553136318684206,-9.54803321109636,-9.54548178698162,-9.545248781155721,-9.542697503470906,-9.542464534793174,-9.537362358826416,-9.536896592944348,-9.529403751776258,-9.529389206135134,-9.529229792330579,-9.529011600555238,-9.526461081902101,-9.526228381939632,-9.521127724347268,-9.52066249613328,-9.515562424940407,-9.513012519288145,-9.512780051081707,-9.510230292081982,-9.509997861166704,-9.504898723191726,-9.504434033309362,-9.494237277937422,-9.493772977527895,-9.488675360411314,-9.483578090420135,-9.483114179694304,-9.472921161881295,-9.472457641049802,-9.467361893507775,-9.462266493561136,-9.4618033628344,-9.451614086698678,-9.447793466918631,-9.44767783532135,-9.446404353914062,-9.446057470377038,-9.440963942531745,-9.435870762869094,-9.435408653321502,-9.430316062296956,-9.420131925616349,-9.419670447229723,-9.414579142189494,-9.409488185917979,-9.404397578533018,-9.401852405709811,-9.40162205355586,-9.399077028100915,-9.398846713645234,-9.388667725206911,-9.381034400885104,-9.380804484822709,-9.378260278241028,-9.378030399941121,-9.372942369221089,-9.367854688207476,-9.362767357017823,-9.357680375769631,-9.355137016410293,-9.354907656872529,-9.352364445164541,-9.352135123464871,-9.347049082950159,-9.336878052913036,-9.31908212472813,-9.318853562464719,-9.31631169795936,-9.316083173632403,-9.310999828153461,-9.305916833784678,-9.300834190643149,-9.295751898845937,-9.290669958510071,-9.285588369752544,-9.280507132690319,-9.275426247440322,-9.270345714119443,-9.265265532844545,-9.260185703732448,-9.255106226899944,-9.250027102463788,-9.244948330540705,-9.239869911247379,-9.234791844700469,-9.229714131016589,-9.224636770312326,-9.219559762704234,-9.214483108308828,-9.21493532459027,-9.194631279546584,-9.184481379343341,-9.179406960228546,-9.17963219389681,-9.177095057029527,-9.177320208720493,-9.174783100303491,-9.169709149182868,-9.164635552443583,-9.159562310201808,-9.154489422573686,-9.154714011547602,-9.152177640657831,-9.152402147723784,-9.14479338703994,-9.134649615238638,-9.134873679934508,-9.13233789886846,-9.132561881713121,-9.13002612939005,-9.124954891244929,-9.119884008531107,-9.114813481364484,-9.115260540866764,-9.105120073166338,-9.100050373104557,-9.100440848335008,-9.099807134586843,-9.099862907582978,-9.095427040854284,-9.090357812756888,-9.085288940907198,-9.085734385653279,-9.075597230914282,-9.070529188383416,-9.070973826187098,-9.065905900302145,-9.060838331248982,-9.061282402414713,-9.056214950295558,-9.046081117370401,-9.046524382119314,-9.041457761588031,-9.041679241600313,-9.039146005378726,-9.039367403824235,-9.036834196998191,-9.026702263672837,-9.027144396156974,-9.0220787262356,-9.022299640224075,-9.019766879509929,-9.01998771199502,-9.017454980820444,-9.007324951269927,-9.007765952213385,-9.002701234989232,-9.003141910122388,-8.99807731156057,-8.998297497017193,-8.995765272242469,-8.995985376278187,-8.993453181229455,-8.988389060086778,-8.988801360250996,-8.988484850550217,-8.9885123336049,-8.978701199016783,-8.979140418109186,-8.974076894315189,-8.974488359664575,-8.974171887315972,-8.974199314719796,-8.969452383787424,-8.969671678700726,-8.967140051415544,-8.967359265009661,-8.964827667679314,-8.95976474250112,-8.960202746236755,-8.955139941093909,-8.955522914569668,-8.954890063027481,-8.954944764424475,-8.950514934767922,-8.950733622267574,-8.948202354837278,-8.948420961087816,-8.940827518966939,-8.941264308343913,-8.936202224204438,-8.936638688738206,-8.931576725431286,-8.932012865198361,-8.926951022893768,-8.927359602036077,-8.927043234844119,-8.927070469845019,-8.922325116838227,-8.922706175673325,-8.922073459724565,-8.922127887618737,-8.917699007511086,-8.918025389975746,-8.9167600015411,-8.916868770069403,-8.91307269515884,-8.913398834276062,-8.912133476247496,-8.912242163666356,-8.908446180028045,-8.908772075855415,-8.907506748275388,-8.907615354604006,-8.903819462365336,-8.904199385719027,-8.903566730624421,-8.903620996316484,-8.899192542417408,-8.899624716331735,-8.899604946138815,-8.899606640767953,-8.894565420431034,-8.894998964825477,-8.889938096653054,-8.890371316971828,-8.885310571330374,-8.885743467650528,-8.880682844709973,-8.881115417108601,-8.881331671302826,-8.878801316457123,-8.879017489690197,-8.876487165593158,-8.876919328822133,-8.871858713351362,-8.872290552838626,-8.867230060630456,-8.867661576453301,-8.867985157345469,-8.86671998654999,-8.866827821291508,-8.863032399913511,-8.863463506877739,-8.858403023466693,-8.859210672545732,-8.858578081750565,-8.858631910642494,-8.854203907433819,-8.854634282264264,-8.854849437706262,-8.852319096080455,-8.852534170696556,-8.850003860113397,-8.850433826400369,-8.845373238953405,-8.845802882040246,-8.846232439890167,-8.841171738996511,-8.841600973749756,-8.842030123269263,-8.836969309251447,-8.837398135777873,-8.837826877073825,-8.832765950254505,-8.833194368661099,-8.833836836463103,-8.831306212076498,-8.831520266002642,-8.828989672936501,-8.829417598106785,-8.829845438030908,-8.824784049141694,-8.825638998436304,-8.826052991901825,-8.825894807328737,-8.825908160392459,-8.821004607289538,-8.821431631525217,-8.82185857049951,-8.822285424190024,-8.817223337836827,-8.818928951250429,-8.81914205694104,-8.81661061671914,-8.816823641850325,-8.814292233236745,-8.814718101066905,-8.81514388355399,-8.815569580675712,-8.815995192409787,-8.81642071873395,-8.816846159625934,-8.811782194638779,-8.81220731352952,-8.813057295004722,-8.81390693459014,-8.814756232108206,-8.815605187381507,-8.816453800232784,-8.817302070484942,-8.817726077081048,-8.822793349292263,-8.823217506036897,-8.8236415769945,-8.824065562142978,-8.824489461460244,-8.824913274924219,-8.825337002512837,-8.827871482152895,-8.828083372633687,-8.830618002022797,-8.830829929911346,-8.831677426517119,-8.832101045812374,-8.834636178151159,-8.834848014385877,-8.837383296400546,-8.837595169960746,-8.838018852499328,-8.838442448910474,-8.838865959172168,-8.843937619179652,-8.844361278460868,-8.844784851499654,-8.847321052860512,-8.8475328658091,-8.85006921672192,-8.850281066866822,-8.850704702402316,-8.851128251580409,-8.856201813270369,-8.857049122323431,-8.861806356526595,-8.86183284312458,-8.862150004328599,-8.862547276500496,-8.862970949644502,-8.867728964321484,-8.867755454776002,-8.86807266800785,-8.868893732684603,-8.873969791880356,-8.874393674597023,-8.874817470584281,-8.879894361685894,-8.880742162483644,-8.885819885192671,-8.886243889815262,-8.891322209399455,-8.891746361540113,-8.895555514808276,-8.895661583203726,-8.896931360887233,-8.897249577383128,-8.89767378986722,-8.902753537069094,-8.903177896766223,-8.908258240322635,-8.908682747115781,-8.913128549609047,-8.913181632443903,-8.913816773362841,-8.914188340640324,-8.916729063312964,-8.916941416007063,-8.91948228766636,-8.919694677064143,-8.92223569769026,-8.922448123777079,-8.924989293350173,-8.925201756111374,-8.927743074611586,-8.927955574032522,-8.930497041439994,-8.930709577506008,-8.931134584005218,-8.936218140971883,-8.936643293910018,-8.94172744623269,-8.94215274549242,-8.947237493011979,-8.947662938475926,-8.955291087711217,-8.955503952922937,-8.958046908309331,-8.958259810019412,-8.962074499964469,-8.962180986420833,-8.963452609456814,-8.963772079693902,-8.968541031288124,-8.968567665272355,-8.968885607565031,-8.969285089779556,-8.974372577199302,-8.974798839999178,-8.979886921705209,-8.982431097743984,-8.982644371361813,-8.985188695920913,-8.985402005907929,-8.989218749276496,-8.989325439805814,-8.990597747233618,-8.990917829529865,-8.996007459577696,-8.996434392293276,-9.001524616033983,-9.005342520107879,-9.005449341654254,-9.006722035935198,-9.007042511193674,-9.01213368837152,-9.01256114477863,-9.01765291521502,-9.022725153492198,-9.022726824890459,-9.022746716726854,-9.023172880045045,-9.030812099484496,-9.0310261586439,-9.033572803183761,-9.033786898500647,-9.038880573746713,-9.041427546081335,-9.041641794215002,-9.044188914675402,-9.044403198925368,-9.052045273887842,-9.052259710891521,-9.054807307019189,-9.055021780097944,-9.060117358128689,-9.062665281682015,-9.062879907451341,-9.065427978992751,-9.065642640795906,-9.075517490687464,-9.075544350088409,-9.07586291694934,-9.076265779795586,-9.081363258582062,-9.086461095652973,-9.086891195872116,-9.097088410728801,-9.10218755511786,-9.102618265308729,-9.107718000637766,-9.11281809366889,-9.117918544284409,-9.118349864151615,-9.128552303830308,-9.136205071379491,-9.136421105501459,-9.138972264829157,-9.139188334731198,-9.144291037636268,-9.149394097424057,-9.154497513976606,-9.157049356002796,-9.157265811183262,-9.159817800609707,-9.160034291505196,-9.184283187816996,-9.184391701471471,-9.185668196325601,-9.185993747065005,-9.1911001236457,-9.196206856051088,-9.201313944162864,-9.20642138786269,-9.211529187032189,-9.21663734155295,-9.221745851306535,-9.226854716174456,-9.227290568088112,-9.232400020886635,-9.242619991003844,-9.25284137969042,-9.263064185996877,-9.273288408973174,-9.283514047668714,-9.293741101132337,-9.303969568412345,-9.303749906775941,-9.306307186154482,-9.306087443375645,-9.30864475279788,-9.313759636448628,-9.318874873075154,-9.323990462558324,-9.329106404778965,-9.334222699617865,-9.339339346955782,-9.344456346673446,-9.34957369865154,-9.34913216367168,-9.364485632862436,-9.374723038093322,-9.374501653408533,-9.377061166196848,-9.376839700174891,-9.379399242556586,-9.384518590870462,-9.389638290485369,-9.39475834128171,-9.399878743139865,-9.399434692737751,-9.404555212384299,-9.414797304019729,-9.414408071917947,-9.41504822370988,-9.414992609692705,-9.419473800085587,-9.42459548908589,-9.429717528426103,-9.42949472259675,-9.432055815294156,-9.431832927965562,-9.444639412652371,-9.444304600735846,-9.445585325753431,-9.445473695591996,-9.449315958071795,-9.454439280722758,-9.45956295299086,-9.459115732550321,-9.464239520942357,-9.469363658709884,-9.469027832245169,-9.470308877496777,-9.470196909120506,-9.474040132055974,-9.479164734786554,-9.478940576305792,-9.481502950192162,-9.481278710056808,-9.48384111280842,-9.494091595894576,-9.493642461944507,-9.498767992991738,-9.503893872568838,-9.503444178209044,-9.513696515298225,-9.513246260346861,-9.518372717564224,-9.518147438226004,-9.520710738940103,-9.520485377818119,-9.523048707102774,-9.533302893900947,-9.532851517221616,-9.537978898461908,-9.537527194441459,-9.542654689448224,-9.542428685430149,-9.544992504772594,-9.544766418886937,-9.547330266609356,-9.552458222527441,-9.552005629694833,-9.55713369891178,-9.556794017354228,-9.558076045029448,-9.557962791506505,-9.561808960797197,-9.566937490093673,-9.566484007933388,-9.571612650061148,-9.571158840070112,-9.576287594856321,-9.576060537637238,-9.578624986486121,-9.578397847277172,-9.580962324229047,-9.586091537968196,-9.585636837929249,-9.590766163859335,-9.590311135706921,-9.595440573655162,-9.594985217312132,-9.600114767105758,-9.599716048211752,-9.600357240638139,-9.600300271260016,-9.609918751286523,-9.609234345039727,-9.611799302582462,-9.611571061531993,-9.619266276796585,-9.618580884997273,-9.621145953664028,-9.620917384044549,-9.628612932239259,-9.627812137525574,-9.629094701796552,-9.62898026434701,-9.632828042615834,-9.632484562966059,-9.633767154867614,-9.633652635211003,-9.637500496316321,-9.637049344668252,-9.637129506894999,-9.637122344964455]}]]],null,"Dam point locations (buffered)",{"interactive":true,"className":"","stroke":true,"color":"#f18e26","weight":5,"opacity":0.5,"fill":"#f18e26","fillColor":"#f18e26","fillOpacity":0.2,"smoothFactor":1,"noClip":false},["Santo Antonio","Jirau"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addPolygons","args":[[[[{"lng":[-64.31941322518237,-64.31645387516603,-64.31349455659768,-64.31349455659768,-64.30165759724495,-64.29573930682979,-64.29573930682979,-64.29278020901465,-64.2898211428239,-64.28686210827955,-64.28686210827955,-64.28390310540365,-64.28094413421825,-64.28094413421825,-64.27798519474537,-64.27798519474537,-64.27502628700705,-64.27502628700705,-64.27206741102533,-64.27206741102533,-64.26910856682224,-64.26910856682225,-64.26910856682224,-64.26836886073946,-64.26836886073946,-64.26614975441981,-64.26614975441981,-64.26577990510658,-64.26577990510658,-64.26319097384005,-64.26319097384005,-64.26319097384005,-64.26023222510503,-64.26023222510501,-64.26023222510501,-64.25949254289958,-64.25949254289958,-64.25727350823671,-64.25727350823671,-64.25727350823671,-64.25431482325716,-64.25431482325718,-64.25431482325716,-64.25283549273256,-64.25283549273256,-64.25135617018839,-64.25135617018839,-64.25135617018839,-64.24839754905243,-64.24839754905243,-64.24821263629219,-64.24821263629219,-64.24543895987127,-64.24543895987127,-64.24543895987127,-64.24395967727061,-64.24395967727061,-64.24248040266693,-64.24248040266693,-64.24229549390388,-64.24229549390388,-64.23952187746144,-64.23952187746144,-64.23915206406177,-64.23915206406177,-64.22029224511748,-64.22029224511748,-64.21881309883928,-64.21881309883928,-64.21585483041677,-64.21289659419114,-64.20993839018439,-64.20698021841851,-64.20402207891547,-64.20106397169728,-64.19810589678593,-64.19514785420338,-64.19218984397165,-64.18923186611271,-64.18627392064853,-64.18331600760109,-64.18035812699237,-64.17740027884435,-64.17444246317899,-64.17148468001827,-64.16852692938416,-64.16852692938416,-64.15965387286113,-64.15965387286113,-64.15891446472565,-64.15891446472565,-64.15669625255309,-64.15373866488149,-64.15078110986825,-64.14782358753537,-64.14782358753537,-64.14190864099841,-64.13895121683827,-64.13895121683827,-64.13821186591738,-64.13821186591738,-64.13599382544625,-64.13303646684432,-64.13007914105444,-64.12712184809853,-64.12712184809853,-64.12416458799854,-64.12120736077641,-64.12120736077641,-64.11825016645409,-64.11529300505347,-64.11529300505347,-64.11455371984991,-64.11455371984991,-64.11233587659653,-64.10937878110521,-64.10937878110521,-64.10790024572849,-64.10790024572849,-64.10642171860138,-64.10346468910703,-64.10050769264406,-64.10050769264406,-64.09459379889996,-64.09459379889996,-64.09163690166267,-64.08868003754445,-64.08868003754445,-64.08720161791184,-64.08720161791184,-64.08276640875289,-64.07980964412337,-64.07980964412337,-64.07685291270056,-64.07685291270056,-64.07611373503599,-64.07611373503599,-64.07093954956278,-64.07093954956278,-64.06798291789161,-64.06798291789161,-64.06761334127327,-64.06761334127327,-64.0650263195148,-64.06206975445423,-64.06206975445423,-64.05911322273181,-64.05911322273181,-64.05615672436946,-64.05615672436946,-64.05467848770513,-64.05467848770513,-64.05320025938903,-64.05024382781247,-64.05024382781247,-64.05024382781247,-64.04876562455748,-64.04876562455748,-64.04728742966164,-64.04728742966164,-64.04580924312769,-64.04580924312771,-64.04433106495841,-64.04433106495841,-64.04137473372471,-64.04137473372471,-64.04137473372471,-64.04063565614847,-64.04063565614847,-64.03841843598242,-64.03841843598242,-64.03546217175341,-64.03546217175341,-64.03527740635235,-64.03527740635235,-64.03250594105957,-64.03250594105957,-64.03250594105957,-64.03102783829517,-64.03102783829517,-64.02954974392279,-64.02954974392279,-64.02659358036492,-64.02659358036492,-64.02659358036492,-64.02363745040788,-64.02363745040788,-64.02363745040788,-64.02363745040788,-64.02326793652688,-64.02326793652688,-64.02068135407349,-64.02068135407349,-64.02068135407349,-64.02068135407349,-64.0206813540735,-64.02326793652688,-64.02326793652688,-64.02363745040788,-64.02363745040788,-64.02363745040788,-64.02363745040788,-64.02363745040788,-64.02363745040788,-64.02659358036492,-64.02659358036492,-64.02659358036492,-64.02659358036492,-64.02659358036492,-64.02954974392279,-64.02954974392279,-64.02954974392279,-64.03250594105957,-64.03250594105957,-64.03250594105957,-64.03472311093518,-64.03472311093518,-64.03546217175341,-64.03546217175342,-64.03546217175342,-64.0369402996774,-64.0369402996774,-64.03841843598242,-64.03841843598242,-64.03546217175342,-64.03546217175342,-64.03250594105957,-64.02954974392279,-64.02954974392279,-64.02807165794512,-64.02807165794512,-64.02363745040788,-64.01772529138368,-64.0118132670252,-64.00885730540028,-64.00885730540028,-64.00590137750739,-64.00294548336841,-63.99998962300516,-63.99703379643955,-63.99407800369341,-63.99112224478861,-63.99112224478861,-63.988166519747,-63.98521082859043,-63.98521082859043,-63.98447191109838,-63.98447191109838,-63.98225517134075,-63.9792995480198,-63.9792995480198,-63.97634395864946,-63.97634395864947,-63.97486617670258,-63.97486617670258,-63.97338840325155,-63.97043288184791,-63.97043288184791,-63.9674773944604,-63.9674773944604,-63.96599966352952,-63.96599966352952,-63.96452194111085,-63.96156652182109,-63.96156652182109,-63.95861113661296,-63.95861113661296,-63.95565578550829,-63.95565578550829,-63.95270046852893,-63.95270046852893,-63.95122282284306,-63.95122282284306,-63.9497451856967,-63.9497451856967,-63.94937577774473,-63.94937577774473,-63.94678993703342,-63.94678993703342,-63.94383472256091,-63.94383472256091,-63.94087954230103,-63.94087954230104,-63.94087954230104,-63.9405101471752,-63.9405101471752,-63.93792439627558,-63.93792439627558,-63.93792439627558,-63.93644683610759,-63.93644683610759,-63.93496928450637,-63.93496928450637,-63.93201420701522,-63.93201420701522,-63.92905916382397,-63.92905916382397,-63.92758165509762,-63.92758165509762,-63.92314918042837,-63.92314918042837,-63.92019424026765,-63.92019424026765,-63.92000955764914,-63.92000955764914,-63.91723933449407,-63.91723933449407,-63.91428446312942,-63.91428446312942,-63.91132962619552,-63.91132962619552,-63.91114495003086,-63.91114495003086,-63.90837482371416,-63.90837482371416,-63.90837482371416,-63.90542005570716,-63.90542005570716,-63.90542005570716,-63.90542005570716,-63.90394268463834,-63.90394268463834,-63.90246532219631,-63.90246532219631,-63.90246532219631,-63.90246532219631,-63.90246532219631,-63.90542005570716,-63.90542005570716,-63.90542005570716,-63.90542005570716,-63.90837482371416,-63.90837482371416,-63.90837482371416,-63.91132385506333,-63.91132385506333,-63.91132962619552,-63.91132962619552,-63.91428446312942,-63.91428446312942,-63.91576189450926,-63.91576189450926,-63.91723933449407,-63.91723933449407,-63.91723933449407,-63.92019424026765,-63.92019424026765,-63.92314918042837,-63.92314918042837,-63.92610415495442,-63.92758165509762,-63.92758165509762,-63.92905916382397,-63.92905916382397,-63.93201420701522,-63.93201420701522,-63.93496928450637,-63.93792439627558,-63.93792439627558,-63.94087954230104,-63.94678993703342,-63.9497451856967,-63.9497451856967,-63.95270046852893,-63.95565578550829,-63.95565578550829,-63.95713345679633,-63.95713345679633,-63.95861113661296,-63.96452194111085,-63.97043288184791,-63.97043288184791,-63.97338840325155,-63.97338840325155,-63.97486617670258,-63.97486617670258,-63.97634395864947,-63.9792995480198,-63.9792995480198,-63.98225517134075,-63.98225517134075,-63.98373299572586,-63.98373299572586,-63.988166519747,-63.98816651974698,-63.99112224478861,-63.99112224478861,-63.99407800369341,-63.99407800369341,-63.9941703717046,-63.9941703717046,-63.99703379643955,-63.99703379643955,-63.99777274991123,-63.99777274991123,-63.99998962300516,-63.99998962300516,-64.0007285849283,-64.0007285849283,-64.00294548336841,-64.00294548336841,-64.00368445373752,-64.00368445373752,-64.00590137750739,-64.00590137750739,-64.00885730540028,-64.00885730540028,-64.00885730540028,-64.01033528199761,-64.0103352819976,-64.0118132670252,-64.0118132670252,-64.01476926236029,-64.01476926236029,-64.01476926236029,-64.01772529138368,-64.01772529138368,-64.0206813540735,-64.0206813540735,-64.02363745040788,-64.02363745040788,-64.02659358036492,-64.02954974392279,-64.03250594105957,-64.03546217175342,-64.03546217175342,-64.0369402996774,-64.0369402996774,-64.04137473372471,-64.04728742966164,-64.05320025938903,-64.05615672436946,-64.05615672436946,-64.05911322273181,-64.06206975445423,-64.0650263195148,-64.06798291789161,-64.07093954956278,-64.07093954956278,-64.07685291270056,-64.07685291270056,-64.07980964412337,-64.07980964412337,-64.08128802228865,-64.08128802228865,-64.08276640875289,-64.08276640875289,-64.08424480351331,-64.08424480351331,-64.08572320656722,-64.08868003754445,-64.08868003754445,-64.09163690166267,-64.09163690166267,-64.09459379889996,-64.09459379889996,-64.09533302838156,-64.09533302838156,-64.0975507292344,-64.0975507292344,-64.09902920680619,-64.09902920680619,-64.10050769264406,-64.10346468910703,-64.10346468910703,-64.10642171860138,-64.10642171860138,-64.10790024572849,-64.10790024572849,-64.10937878110521,-64.10937878110521,-64.10956359860721,-64.10956359860721,-64.11233587659655,-64.11233587659653,-64.11233587659653,-64.11381443670568,-64.11381443670568,-64.11529300505347,-64.11529300505347,-64.11825016645409,-64.11825016645409,-64.12120736077641,-64.12120736077641,-64.12120736077641,-64.12416458799854,-64.12416458799854,-64.12425700187912,-64.12425700187912,-64.12712184809853,-64.12712184809853,-64.12712184809853,-64.12712184809853,-64.12786116825812,-64.12786116825812,-64.13007914105444,-64.13007914105444,-64.13007914105444,-64.13007914105444,-64.13007914105444,-64.1315577998465,-64.1315577998465,-64.13303646684432,-64.13303646684432,-64.13303646684432,-64.13303646684432,-64.13303646684432,-64.13303646684432,-64.13303646684432,-64.13303646684432,-64.13303646684432,-64.13303646684432,-64.13303646684432,-64.1315577998465,-64.1315577998465,-64.13007914105445,-64.13007914105444,-64.13007914105444,-64.13007914105444,-64.12712184809853,-64.12712184809853,-64.12712184809853,-64.12712184809853,-64.12416458799854,-64.12416458799854,-64.12416458799854,-64.12120736077641,-64.12120736077641,-64.12120736077641,-64.12416458799854,-64.12416458799854,-64.13007914105444,-64.13007914105444,-64.13303646684432,-64.13599382544625,-64.13599382544625,-64.14190864099841,-64.14190864099842,-64.14264800215591,-64.14264800215591,-64.14486609790477,-64.14782358753537,-64.14782358753537,-64.14930234461539,-64.14930234461539,-64.15373866488149,-64.15669625255309,-64.15669625255309,-64.15965387286113,-64.16261152578362,-64.16261152578362,-64.16335094410768,-64.16335094410768,-64.16556921129863,-64.17148468001827,-64.17444246317899,-64.17444246317899,-64.17740027884435,-64.18035812699237,-64.18331600760109,-64.18331600760109,-64.18368574495848,-64.18368574495848,-64.19514785420338,-64.19514785420338,-64.19810589678593,-64.20106397169728,-64.20402207891547,-64.20698021841851,-64.20698021841851,-64.21881309883928,-64.2299068918016,-64.2299068918016,-64.23064649405811,-64.23064649405811,-64.23360492313502,-64.23656338427681,-64.23952187746144,-64.24248040266693,-64.24543895987127,-64.24839754905243,-64.25135617018839,-64.25431482325718,-64.25431482325716,-64.25505449151127,-64.25505449151127,-64.26614975441981,-64.26614975441981,-64.26910856682224,-64.27206741102533,-64.27502628700705,-64.27798519474537,-64.27798519474537,-64.28390310540365,-64.28390310540365,-64.28686210827955,-64.28686210827955,-64.28834162159454,-64.28834162159454,-64.2898211428239,-64.2898211428239,-64.29130067196485,-64.29130067196485,-64.29278020901465,-64.29573930682979,-64.29573930682979,-64.29869843624724,-64.29869843624724,-64.30165759724495,-64.30165759724495,-64.30461678980092,-64.30461678980092,-64.30757601389305,-64.30757601389305,-64.31053526949933,-64.31053526949933,-64.31349455659768,-64.31349455659768,-64.31645387516603,-64.31645387516603,-64.31645387516603,-64.31941322518237,-64.31941322518237,-64.32089291197663,-64.32089291197663,-64.3223726066246,-64.32237260662461,-64.32533201947068,-64.32533201947068,-64.32533201947068,-64.32681173766326,-64.32681173766326,-64.32829146369855,-64.32829146369855,-64.33125093928612,-64.33125093928612,-64.33421044621134,-64.33421044621134,-64.33421044621134,-64.33421044621134,-64.33569021141869,-64.33569021141869,-64.33716998445217,-64.33716998445217,-64.33716998445216,-64.3401295539865,-64.3401295539865,-64.3401295539865,-64.3401295539865,-64.34160935048185,-64.34160935048185,-64.34308915479227,-64.34308915479227,-64.3460487868474,-64.34604878684742,-64.3460487868474,-64.34900845012986,-64.34900845012986,-64.34900845012986,-64.34937841023473,-64.34937841023473,-64.35196814461752,-64.35196814461752,-64.35196814461752,-64.35196814461752,-64.35492787028832,-64.35492787028832,-64.35492787028832,-64.35492787028832,-64.35492787028832,-64.35270807311265,-64.35270807311265,-64.35196814461752,-64.35196814461752,-64.35196814461752,-64.35196814461752,-64.35196814461752,-64.34900845012986,-64.34900845012986,-64.34604878684742,-64.34604878684742,-64.3460487868474,-64.34308915479227,-64.34308915479227,-64.3401295539865,-64.3401295539865,-64.33753992893305,-64.33753992893305,-64.33716998445216,-64.33716998445217,-64.33458038677934,-64.33458038677934,-64.33421044621134,-64.33421044621134,-64.33125093928612,-64.33125093928612,-64.32829146369855,-64.32829146369855,-64.32533201947068,-64.3223726066246,-64.3223726066246,-64.31941322518237],"lat":[-9.130459627314474,-9.130236669718169,-9.130013690265571,-9.132551214865703,-9.131658839052319,-9.131212520048386,-9.128675354732859,-9.128452222368734,-9.128229068171899,-9.128005892145307,-9.125468995434396,-9.125245857500518,-9.125022697748799,-9.122486009777845,-9.12226288814243,-9.119726349011726,-9.119503265507239,-9.116966875236598,-9.116743829877661,-9.114207588486885,-9.113984581288111,-9.111448488796999,-9.109546477811799,-9.10949074883777,-9.108856760044784,-9.108689576201344,-9.103934921845115,-9.103907070733218,-9.103590105837803,-9.10339514509616,-9.100859528466735,-9.098324000860536,-9.098101288123146,-9.093030619965344,-9.091129211249568,-9.09107357089654,-9.090439782873533,-9.090272864915088,-9.087737813477769,-9.085202851135326,-9.08498039480741,-9.082445581548189,-9.078643528770334,-9.078532367441973,-9.077265076080568,-9.077153924326902,-9.074619438460173,-9.072085041759903,-9.071862841964139,-9.066952818371341,-9.066938937428873,-9.066780555380333,-9.066572334610051,-9.064038325468445,-9.06277135435556,-9.06266034049365,-9.061393406686777,-9.061282402414713,-9.058906989782313,-9.05889311738353,-9.058734759564704,-9.058526666961539,-9.056309743325857,-9.056282002772335,-9.055965305912153,-9.054550137744123,-9.055816742230224,-9.055705696505385,-9.056972308294664,-9.056750170621321,-9.056528011348005,-9.056305830477667,-9.056083628013253,-9.055861403957712,-9.055639158313989,-9.05541689108504,-9.055194602273804,-9.054972291883239,-9.054749959916293,-9.054527606375919,-9.054305231265069,-9.054082834586692,-9.053860416343745,-9.053637976539182,-9.053415515175953,-9.053193032257017,-9.050660852624567,-9.049993455030553,-9.04809451423017,-9.048038900294106,-9.047405934945655,-9.047239096344381,-9.047016626038381,-9.046794134206369,-9.046571620851296,-9.044040040916292,-9.043595070036604,-9.043372552332965,-9.041474061415192,-9.041418439917644,-9.040785624535888,-9.040618763270112,-9.040396262773342,-9.040173740783212,-9.039951197302681,-9.037420217404655,-9.037197712668613,-9.036975186454058,-9.034444416334265,-9.034221928887636,-9.033999419974382,-9.032101491371003,-9.032045872086282,-9.031413244150581,-9.031246389547611,-9.031023897970973,-9.029758711576489,-9.029647472809859,-9.028382323817318,-9.028271094755844,-9.028048620551131,-9.027826124906529,-9.025296044619612,-9.024851109596636,-9.022321239246157,-9.022098799891191,-9.021876339120109,-9.020611497758505,-9.020500274419268,-9.019235470479829,-9.018901813584153,-9.018679348901498,-9.016149958852349,-9.015927533095942,-9.014030594472501,-9.01397499600268,-9.013342698075119,-9.01295349776262,-9.010424467523977,-9.010202098291932,-9.007989322992602,-9.007961531936246,-9.007645427712053,-9.007450887572059,-9.007228535958919,-9.004699865636963,-9.004477553025776,-9.001949032520594,-9.001726758925818,-9.000462562406454,-9.000351432698894,-8.999087273641376,-8.998976153692993,-8.998753897799117,-8.99622573736122,-8.994961690703846,-8.994850600043831,-8.993586590858039,-8.993475509964425,-8.992211538252649,-8.992100467127244,-8.990836532891912,-8.990725471536521,-8.988197700407351,-8.987975622111406,-8.98544800091582,-8.983552343789482,-8.983496847310972,-8.982864976572403,-8.982698490480418,-8.980171108807784,-8.979949169135015,-8.975052739115938,-8.975038874494789,-8.974880930975454,-8.97467295523303,-8.972145963164621,-8.970882500739405,-8.970771618013204,-8.969508193099161,-8.969397320165159,-8.966870567776116,-8.966648866396094,-8.964122264079469,-8.961595751431281,-8.961374149666447,-8.958847787123956,-8.953795331143111,-8.949058979613739,-8.949031314723017,-8.948715570116482,-8.94852191322132,-8.945996059731604,-8.943470296009528,-8.940944622069377,-8.938419037925433,-8.938612483327843,-8.938296785015305,-8.938324417806024,-8.933589097370831,-8.928538437036881,-8.92348813617499,-8.918438194899311,-8.915913359141962,-8.916133873358964,-8.913609067125753,-8.911084350846584,-8.908559724535712,-8.906035188207396,-8.906255439676682,-8.903730932937671,-8.901206516210159,-8.901426625784264,-8.898902238681826,-8.896377941619836,-8.896542919371591,-8.895911847852563,-8.895966834027821,-8.894073641920182,-8.891549464588413,-8.891659380147184,-8.890397310164614,-8.890507205360914,-8.889245142804732,-8.889025377340277,-8.886501380190005,-8.886281654061229,-8.8860619068845,-8.884800002495652,-8.884690136115859,-8.883428269357175,-8.883098683964581,-8.882659163159916,-8.882219558245886,-8.881999724255202,-8.879476451081366,-8.879256656517136,-8.879036840943241,-8.878817004362624,-8.878597146778228,-8.878377268192988,-8.878157368609848,-8.875634548328525,-8.875414688230496,-8.875194807146366,-8.873302841818168,-8.873247879610142,-8.872617239550731,-8.872452356402359,-8.872232493852241,-8.869710095833263,-8.86949027281463,-8.868229137870969,-8.868119233627267,-8.866858136355587,-8.866748241999785,-8.866528437573331,-8.864006401441232,-8.863786636583763,-8.86252568260209,-8.862415807450924,-8.861154891152198,-8.861045025898303,-8.860825279691156,-8.858303605550459,-8.85808389894977,-8.855562375573719,-8.855342708593794,-8.852821336001558,-8.852601708656701,-8.848819909823115,-8.848710133725129,-8.847449594387701,-8.847339828204865,-8.845133965168857,-8.845106529430398,-8.844791412728988,-8.844599360047237,-8.842078530218661,-8.841859082428018,-8.839338403473604,-8.839118995380638,-8.836598467319522,-8.834393079371605,-8.834365666089456,-8.834050617261472,-8.833858721789831,-8.831338434993638,-8.830078325482154,-8.829968709193615,-8.828708637419814,-8.828599031066995,-8.826078985596387,-8.825859817850663,-8.823339923358104,-8.823120795378017,-8.821860912328464,-8.821751355681007,-8.820491510383471,-8.820162854676129,-8.817643322797267,-8.817424253593972,-8.815062331408535,-8.815048642444161,-8.81489118402825,-8.814685843369846,-8.812166613591586,-8.811947624037085,-8.809428545337747,-8.809209595629019,-8.804329255584145,-8.804315577879057,-8.804158153447723,-8.803952981694671,-8.801434295713701,-8.798915700250191,-8.798696951540837,-8.793660153485829,-8.788623717668214,-8.78736466532664,-8.787255419624472,-8.785996405090097,-8.785887169369602,-8.783369238572069,-8.780851398389864,-8.778333648837098,-8.775815989927883,-8.776034213654007,-8.773516584769192,-8.768481599030453,-8.763446976093588,-8.763664876002558,-8.761147639995217,-8.758630494731143,-8.7588478274554,-8.75884291112669,-8.758843336414952,-8.753814113266509,-8.754031729405705,-8.751514735227993,-8.751623505254058,-8.750365027062998,-8.750473776779081,-8.749215306139247,-8.746698432972773,-8.746915826030655,-8.744398983095769,-8.744616294932595,-8.7420994822503,-8.742316712875448,-8.742425320454489,-8.741166902746718,-8.741275490025156,-8.740017079889611,-8.740234208692206,-8.737717396005467,-8.737934443618158,-8.738151470610655,-8.735634627685604,-8.735851573500577,-8.736285403267276,-8.736502287213181,-8.733985293011237,-8.734202095798006,-8.73441887795893,-8.73567742422307,-8.735785822697894,-8.73704440682042,-8.737152815266242,-8.737586397452008,-8.738019897064301,-8.740537405763321,-8.740754185086635,-8.742013003767529,-8.742121400803978,-8.74338025732837,-8.743488664319907,-8.743705462802509,-8.746223334730912,-8.74644017301658,-8.747699173293809,-8.747807599799559,-8.749066637909438,-8.749391931748141,-8.751910166802427,-8.752127063955417,-8.754645450307743,-8.754862387212317,-8.757302219167988,-8.757308999942572,-8.757387705677285,-8.757597901485596,-8.759486909641003,-8.759541161897484,-8.760170846411073,-8.760333606742002,-8.762222728329416,-8.762276990514284,-8.762906712836504,-8.763069502948266,-8.764958737953412,-8.765013010063104,-8.765642770189194,-8.765805590071119,-8.768324732628283,-8.768541868077268,-8.771061161818279,-8.772320842719479,-8.772429447976966,-8.773689166667996,-8.773797781839225,-8.776317317477549,-8.776534592657812,-8.779054279428221,-8.781574056903374,-8.781791432124141,-8.784311360698657,-8.784528775531967,-8.787048855186768,-8.787266309618358,-8.789786540334351,-8.790004034349963,-8.790221507548782,-8.790438959927906,-8.790656391484429,-8.791916661603825,-8.79202538466523,-8.793285692538342,-8.793611875749544,-8.79404671376575,-8.794481468409728,-8.794698814459872,-8.797219890457392,-8.797437275983494,-8.797654640648997,-8.797871984450991,-8.798089307386578,-8.79830660945286,-8.80082807765875,-8.801262739762908,-8.803784419175809,-8.804001779190555,-8.805262683017281,-8.805371370260801,-8.806632311807123,-8.806741008896418,-8.808001988159941,-8.808110695093227,-8.809371712071558,-8.809480428847042,-8.809697846714803,-8.812220039008961,-8.812437496228165,-8.814959839348692,-8.815177335905028,-8.817069197862734,-8.817123580029465,-8.817754215765497,-8.81791736571191,-8.819178676753891,-8.819287451903635,-8.82054880063988,-8.820657585615301,-8.820875139854223,-8.823397995581697,-8.823615589105961,-8.827400132749124,-8.827508966826093,-8.828770541677502,-8.828879385569406,-8.831244927614943,-8.831258536261791,-8.831416242127286,-8.83162036552365,-8.834143763891392,-8.835405496995371,-8.835514400432716,-8.836776171203512,-8.836885084447257,-8.839408723925265,-8.839626594879199,-8.844674265524304,-8.84489223589196,-8.847416267026055,-8.849940388541707,-8.850158458298226,-8.855128205136735,-8.855135023181592,-8.855213910934241,-8.855425261951105,-8.857949774934786,-8.860474378244012,-8.862367889993505,-8.862422470370511,-8.863053656003972,-8.86321740052052,-8.865742244634932,-8.870792203699336,-8.875842523782854,-8.87710516019961,-8.87721448215718,-8.878477156177407,-8.878586487906103,-8.881111933700005,-8.883637469692118,-8.886163095868181,-8.888688812213934,-8.891214618715109,-8.893740515357438,-8.896266502126656,-8.898792579008486,-8.901318745988657,-8.903845003052894,-8.903735370353669,-8.904998517613739,-8.904888864572211,-8.906152019297979,-8.911204863320865,-8.913731420379202,-8.913511887701334,-8.916038474566133,-8.918565151428425,-8.921091918273914,-8.920872183770344,-8.925925866927292,-8.928452843422747,-8.928232907056733,-8.930759913257502,-8.933287009369135,-8.933507066176134,-8.936034312405464,-8.936474482738889,-8.939001939276157,-8.93922205277927,-8.939442145027661,-8.941969811836421,-8.942410052935722,-8.944305952295291,-8.944360987735433,-8.944992969181099,-8.945158078807102,-8.945378206356319,-8.946642238747993,-8.946752309584941,-8.948016379478307,-8.948346605182667,-8.948566729036452,-8.951095086598528,-8.951315249307957,-8.951535390712442,-8.953431808050002,-8.953486851348574,-8.95411900544604,-8.954284138625342,-8.954724435145684,-8.954944551423388,-8.957473449428328,-8.957693604497184,-8.957913738231595,-8.958133850628636,-8.960346867830697,-8.96037438695353,-8.960690538818575,-8.961543495273522,-8.964072993540654,-8.964293119357956,-8.964513223808392,-8.964733306889041,-8.964953368596973,-8.962423630062968,-8.963303422938022,-8.964127918064538,-8.963495381147931,-8.963550333044809,-8.961652744714565,-8.961872493929379,-8.962092221754277,-8.962311928186343,-8.962531613222662,-8.962751276860327,-8.962970919096422,-8.963190539928037,-8.963410139352259,-8.965308087577132,-8.965362995330013,-8.965995659709741,-8.966819171560385,-8.969350109991906,-8.969569722199015,-8.969789312969283,-8.970008882299801,-8.970228430187666,-8.972759698086438,-8.973198849333283,-8.975730326804673,-8.975949930140246,-8.977215732480696,-8.977325541071947,-8.978591380820774,-8.978701199016783,-8.97996707617154,-8.980076903970494,-8.981342818528736,-8.981452655928816,-8.981672314615532,-8.984204300842258,-8.984423997915922,-8.986956133723005,-8.987175869169103,-8.989708154536956,-8.989927928340968,-8.992460363249988,-8.992680175397394,-8.995212759827975,-8.995432610304251,-8.997965344236784,-8.998185233027399,-9.000718116442263,-9.000938043532692,-9.003471076410261,-9.006004198895804,-9.00622422410661,-9.010024165571741,-9.010134214964005,-9.011400921865484,-9.011510980821155,-9.014044491710681,-9.014264653261446,-9.016798313526708,-9.018065177236632,-9.018175294781791,-9.019442195829333,-9.019552322929218,-9.02208622207357,-9.022306519884001,-9.027374706311976,-9.027595102126241,-9.030129389376139,-9.03266376609208,-9.033930987995303,-9.03404125254788,-9.035308511763423,-9.035418785855583,-9.037953401263961,-9.040488106095433,-9.040708757639088,-9.043243611677624,-9.045778555110731,-9.047046060345732,-9.047156452736871,-9.048423995263786,-9.048534397182994,-9.05360485047941,-9.05382575762993,-9.056361178079312,-9.058896687851712,-9.059117692868202,-9.064189099890571,-9.066407952767159,-9.066435598350948,-9.066752583846824,-9.066946099963632,-9.069482086445625,-9.072018162179017,-9.074554327149325,-9.074775647366438,-9.07984836450659,-9.084921438422047,-9.089994868996873,-9.095068656115103,-9.094902309349521,-9.095536546595131,-9.095481091211836,-9.097383825152919,-9.099920881695462,-9.102458027315489,-9.104995261998491,-9.104773202653993,-9.109847819583441,-9.109625618837102,-9.112163001047433,-9.114700472261982,-9.114478130091209,-9.117015630498448,-9.116793206684049,-9.119330736262729,-9.119136045173477,-9.119453236084471,-9.119425420771663,-9.121645789524104,-9.121451026980283,-9.121768221533308,-9.121740396012411,-9.123960790251871,-9.123738121449794,-9.126275738415314,-9.126052987931754,-9.128590633983736,-9.128367801809237,-9.128144947775636,-9.130682563051547,-9.130459627314474]}]],[[{"lng":[-64.95340089498168,-64.95043532545415,-64.94746978261396,-64.94450426648356,-64.94450426648356,-64.94153877708538,-64.93560787857535,-64.92967708726324,-64.92967708726324,-64.9281944062059,-64.9281944062059,-64.92671173186245,-64.92374640332839,-64.92078110168347,-64.91781582695012,-64.91485057915071,-64.91485057915071,-64.91410927141193,-64.91410927141193,-64.9118853583077,-64.90892016444347,-64.90892016444347,-64.90743757763538,-64.90743757763538,-64.90595499758042,-64.90298985774095,-64.90298985774095,-64.9000247449475,-64.9000247449475,-64.89928347097769,-64.89928347097769,-64.89705965922244,-64.89705965922244,-64.89557712651754,-64.89557712651754,-64.89409460058815,-64.89409460058815,-64.89261208143706,-64.89261208143706,-64.89112956906708,-64.89112956906708,-64.88964706348096,-64.88964706348096,-64.88816456468157,-64.88816456468157,-64.88779394104247,-64.88779394104247,-64.88519958745405,-64.88519958745405,-64.88223463740691,-64.88223463740691,-64.88214198315615,-64.88214198315615,-64.87926971456253,-64.87926971456253,-64.87630481894331,-64.87630481894331,-64.87333995057161,-64.87333995057161,-64.87037510946985,-64.87037510946985,-64.86741029566039,-64.86741029566039,-64.86444550916563,-64.86444550916563,-64.85851601820967,-64.84665736505872,-64.84072820322167,-64.84072820322167,-64.83924592995295,-64.83776366356605,-64.83776366356605,-64.83479915144885,-64.83479915144885,-64.83183466689242,-64.82887020991915,-64.82590578055139,-64.82590578055139,-64.82294137881149,-64.81997700472182,-64.81997700472182,-64.81701265830473,-64.81404833958257,-64.81404833958257,-64.81108404857771,-64.80811978531247,-64.80811978531247,-64.80515554980921,-64.80515554980921,-64.8021913420903,-64.8021913420903,-64.79922716217804,-64.79922716217804,-64.79922716217804,-64.7984861215474,-64.7984861215474,-64.79626301009482,-64.79626301009482,-64.79329888586297,-64.79329888586297,-64.7903347895048,-64.7903347895048,-64.79033478950481,-64.78885275178536,-64.78885275178536,-64.78737072104269,-64.78737072104269,-64.78440668049896,-64.78440668049896,-64.78144266789594,-64.78144266789594,-64.78144266789593,-64.77847868325595,-64.77847868325595,-64.77847868325595,-64.77551472660137,-64.77551472660137,-64.77551472660137,-64.77403275877558,-64.77403275877558,-64.77255079795449,-64.77255079795449,-64.77255079795449,-64.77255079795449,-64.77218030884403,-64.77218030884403,-64.76958689733763,-64.76958689733763,-64.76958689733763,-64.76662302477315,-64.76662302477315,-64.76662302477315,-64.76662302477315,-64.76662302477315,-64.76662302477315,-64.76662302477315,-64.76662302477315,-64.76662302477315,-64.76662302477315,-64.76662302477315,-64.76662302477315,-64.76662302477315,-64.76662302477315,-64.76662302477315,-64.76662302477315,-64.76662302477315,-64.76662302477315,-64.76958689733763,-64.76958689733763,-64.76958689733763,-64.76958689733763,-64.77180982017158,-64.77180982017158,-64.77255079795449,-64.77255079795449,-64.77255079795449,-64.77255079795449,-64.77255079795449,-64.77255079795449,-64.77403275877558,-64.77403275877558,-64.77551472660137,-64.77551472660137,-64.77847868325595,-64.77847868325595,-64.77847868325595,-64.77847868325595,-64.78070166911353,-64.78070166911353,-64.78144266789594,-64.78144266789593,-64.78144266789593,-64.77847868325595,-64.77847868325595,-64.77551472660137,-64.77255079795449,-64.76958689733763,-64.76662302477315,-64.76365918028337,-64.7606953638906,-64.75773157561716,-64.75476781548538,-64.75180408351757,-64.74884037973605,-64.74587670416314,-64.74291305682114,-64.74291305682114,-64.7414312437437,-64.7414312437437,-64.73994943773238,-64.73402228440378,-64.73402228440378,-64.73383706268666,-64.73383706268666,-64.73105875020858,-64.72809524435581,-64.72513176686782,-64.72513176686782,-64.7221683177669,-64.71920489707533,-64.71920489707533,-64.71772319739001,-64.71772319739001,-64.71624150481541,-64.71327814100948,-64.71327814100948,-64.71253730450654,-64.71253730450654,-64.71031480567979,-64.70735149884864,-64.70735149884864,-64.70438822053833,-64.70438822053833,-64.70142497077116,-64.70142497077114,-64.70142497077116,-64.6999433565982,-64.6999433565982,-64.69846174956938,-64.69846174956938,-64.6977209487349,-64.6977209487349,-64.69549855695531,-64.69549855695531,-64.69531335836665,-64.69531335836665,-64.69253539295123,-64.69253539295123,-64.68957225757941,-64.68957225757941,-64.68957225757941,-64.68809070063757,-64.68809070063757,-64.68660915086215,-64.68660915086215,-64.68660915086215,-64.68586837866272,-64.68586837866272,-64.68364607282172,-64.68364607282172,-64.68364607282172,-64.68068302348037,-64.68068302348038,-64.68068302348037,-64.67772000286043,-64.67772000286043,-64.67772000286043,-64.67772000286043,-64.67772000286043,-64.67475701098411,-64.67475701098412,-64.6732755258318,-64.6732755258318,-64.67179404787375,-64.67179404787375,-64.67105331159344,-64.67105331159344,-64.66883111355158,-64.66883111355158,-64.66586820803985,-64.66586820803985,-64.66290533136089,-64.66290533136089,-64.66290533136089,-64.66142390384063,-64.66142390384063,-64.65994248353689,-64.65994248353689,-64.6584610704525,-64.6584610704525,-64.65697966459018,-64.65697966459018,-64.6562389643682,-64.65623896436819,-64.654016874543,-64.654016874543,-64.65253549036368,-64.65253549036368,-64.6510541134176,-64.64809138123623,-64.64809138123623,-64.64512867802117,-64.64512867802117,-64.64364733728294,-64.64364733728294,-64.63920335857895,-64.63920335857895,-64.63846270181057,-64.63846270181057,-64.63624074239631,-64.633278155269,-64.633278155269,-64.63031559721921,-64.63031559721921,-64.62883432910536,-64.62883432910536,-64.62735306826924,-64.62439056844133,-64.62439056844133,-64.62402025801158,-64.62402025801158,-64.6214280977577,-64.61846565624062,-64.61846565624062,-64.61550324391229,-64.61550324391229,-64.61254086079498,-64.61254086079498,-64.61254086079498,-64.61105968019741,-64.61105968019741,-64.60957850691092,-64.60957850691092,-64.60661618228235,-64.60661618228235,-64.60661618228235,-64.60365388693148,-64.60365388693148,-64.60365388693148,-64.60069162088055,-64.60069162088055,-64.60069162088057,-64.60069162088057,-64.60069162088057,-64.60069162088057,-64.60069162088055,-64.60069162088055,-64.60069162088057,-64.60069162088055,-64.60365388693148,-64.60365388693148,-64.60365388693148,-64.60624589376191,-64.60624589376191,-64.60661618228235,-64.60661618228235,-64.60661618228235,-64.60883792301021,-64.60883792301021,-64.60957850691092,-64.60957850691092,-64.61254086079498,-64.61254086079498,-64.61402204870087,-64.61402204870087,-64.61550324391229,-64.61550324391229,-64.61698444642647,-64.61698444642647,-64.61846565624062,-64.61846565624062,-64.61994687335195,-64.61994687335195,-64.6214280977577,-64.6214280977577,-64.62290932945508,-64.62290932945508,-64.62439056844133,-64.62439056844133,-64.62735306826924,-64.62735306826924,-64.63253751302965,-64.63253751302965,-64.633278155269,-64.633278155269,-64.63624074239631,-64.63920335857895,-64.64068467755907,-64.64068467755907,-64.64216600379466,-64.64216600379466,-64.64512867802117,-64.65697966459018,-64.66290533136089,-64.66290533136089,-64.66586820803985,-64.66883111355158,-64.66883111355158,-64.66920147876672,-64.66920147876672,-64.67475701098412,-64.67475701098412,-64.67772000286043,-64.67772000286043,-64.67920150957883,-64.67920150957883,-64.68068302348037,-64.68364607282172,-64.68364607282172,-64.68401645600774,-64.68401645600774,-64.68660915086215,-64.68957225757941,-64.68957225757941,-64.69253539295123,-64.69253539295123,-64.69401697137563,-64.69401697137563,-64.69549855695531,-64.69846174956938,-64.69846174956938,-64.69855434979932,-64.69855434979932,-64.70438822053833,-64.70438822053833,-64.70735149884864,-64.70735149884865,-64.70744410175551,-64.70744410175551,-64.71031480567979,-64.71031480567979,-64.71105563684134,-64.71105563684134,-64.71327814100948,-64.71327814100948,-64.7147598193543,-64.71475981935431,-64.71624150481541,-64.71624150481541,-64.71772319739001,-64.71772319739001,-64.71920489707533,-64.7221683177669,-64.7221683177669,-64.72513176686782,-64.72513176686782,-64.72513176686782,-64.72661350206482,-64.72661350206482,-64.72809524435581,-64.72809524435581,-64.72883611816069,-64.72883611816069,-64.73105875020858,-64.73105875020858,-64.73402228440378,-64.73402228440378,-64.73698584691917,-64.73698584691917,-64.73698584691917,-64.73846763878993,-64.73846763878993,-64.73994943773238,-64.73994943773238,-64.7414312437437,-64.7414312437437,-64.74291305682114,-64.74291305682114,-64.74309828395252,-64.74309828395252,-64.74587670416314,-64.74587670416314,-64.74884037973605,-64.74884037973605,-64.75180408351757,-64.75180408351757,-64.75180408351757,-64.75328594597958,-64.75328594597958,-64.75476781548538,-64.75476781548538,-64.75773157561716,-64.75773157561716,-64.75810204761279,-64.75810204761279,-64.7606953638906,-64.7606953638906,-64.7606953638906,-64.7606953638906,-64.76217726857347,-64.76217726857347,-64.76365918028337,-64.76365918028337,-64.76365918028337,-64.76662302477315,-64.76662302477315,-64.76662302477315,-64.76662302477315,-64.76662302477315,-64.76671564536596,-64.76671564536596,-64.76958689733763,-64.77180982017158,-64.77180982017158,-64.77255079795449,-64.77255079795449,-64.77551472660137,-64.78144266789594,-64.78737072104269,-64.79329888586297,-64.79329888586297,-64.79626301009482,-64.79922716217804,-64.8021913420903,-64.80515554980921,-64.80811978531247,-64.81108404857771,-64.81404833958257,-64.81701265830473,-64.81997700472182,-64.82294137881149,-64.82294137881149,-64.82442357622656,-64.82442357622656,-64.82887020991915,-64.83479915144885,-64.83776366356605,-64.83776366356605,-64.83813422951745,-64.83813422951745,-64.84072820322167,-64.84369277039335,-64.84369277039335,-64.84517506429071,-64.84517506429071,-64.84665736505872,-64.84962198719541,-64.84962198719541,-64.84980727699057,-64.84980727699057,-64.85258663678106,-64.85258663678106,-64.85406897186023,-64.85406897186023,-64.85555131379326,-64.85555131379326,-64.85703366257735,-64.85703366257735,-64.85851601820967,-64.85851601820967,-64.85888660818748,-64.85888660818748,-64.86148075000791,-64.86148075000791,-64.86444550916562,-64.86444550916563,-64.86444550916563,-64.86741029566039,-64.86741029566039,-64.86741029566039,-64.86889269915218,-64.86889269915218,-64.87037510946985,-64.87037510946985,-64.87333995057161,-64.87333995057161,-64.87333995057161,-64.87408116510886,-64.87408116510886,-64.87630481894331,-64.87630481894331,-64.87704604029453,-64.87704604029453,-64.87926971456253,-64.87926971456253,-64.87926971456253,-64.87926971456253,-64.88001094272214,-64.88001094272214,-64.88223463740691,-64.88223463740691,-64.88223463740691,-64.88223463740691,-64.88223463740691,-64.88001094272214,-64.88001094272214,-64.87926971456253,-64.87926971456253,-64.87926971456253,-64.87926971456253,-64.87926971456253,-64.87630481894331,-64.87630481894331,-64.87630481894331,-64.87482238135011,-64.87482238135011,-64.87333995057161,-64.87333995057161,-64.87333995057161,-64.87333995057161,-64.87333995057161,-64.87037510946985,-64.87037510946985,-64.87037510946985,-64.86741029566038,-64.86741029566039,-64.86741029566039,-64.86741029566039,-64.86592789899727,-64.86592789899727,-64.86444550916563,-64.86444550916563,-64.86444550916563,-64.86444550916562,-64.86148075000791,-64.86148075000791,-64.86148075000791,-64.86148075000791,-64.86148075000791,-64.86148075000791,-64.86148075000791,-64.86148075000791,-64.86148075000791,-64.86148075000791,-64.86444550916562,-64.86444550916563,-64.87037510946985,-64.88223463740691,-64.88816456468157,-64.88816456468157,-64.89112956906708,-64.89409460058815,-64.89705965922244,-64.9000247449475,-64.9000247449475,-64.90595499758042,-64.90595499758042,-64.90892016444347,-64.90892016444347,-64.91040275800184,-64.91040275800184,-64.9118853583077,-64.91485057915071,-64.91485057915071,-64.91781582695012,-64.91781582695012,-64.91929846095145,-64.91929846095145,-64.92374640332839,-64.92374640332839,-64.92671173186245,-64.92671173186245,-64.92967708726324,-64.92967708726324,-64.93264246950835,-64.93264246950835,-64.93560787857535,-64.93560787857535,-64.93857331444184,-64.93857331444184,-64.94153877708538,-64.94153877708538,-64.94450426648356,-64.94450426648356,-64.94746978261396,-64.94746978261396,-64.95043532545415,-64.95043532545414,-64.95340089498168,-64.96378059816723,-64.96378059816723,-64.96526343951687,-64.96526343951687,-64.96822914214476,-64.97119487132541,-64.9741606270364,-64.9741606270364,-64.97712640925526,-64.9830580531269,-64.9830580531269,-64.98454098062717,-64.98454098062717,-64.98602391473477,-64.98898980276076,-64.98898980276076,-64.99047275667353,-64.99047275667353,-64.99492165797726,-64.99492165797726,-64.99788762512287,-64.99788762512287,-65.00085361859679,-65.00085361859679,-65.00381963837657,-65.00381963837657,-65.00381963837657,-65.00391232691832,-65.00391232691832,-65.00678568443976,-65.00678568443976,-65.00678568443976,-65.00975175676386,-65.00975175676386,-65.00975175676386,-65.00975175676386,-65.01271785532646,-65.01271785532646,-65.01271785532646,-65.00979810185218,-65.00979810185218,-65.00975175676386,-65.00975175676386,-65.00975175676388,-65.00975175676386,-65.0082687173206,-65.0082687173206,-65.00678568443976,-65.00678568443976,-65.00678568443976,-65.00381963837657,-65.00381963837657,-65.00233662519987,-65.00233662519987,-65.00085361859679,-65.00085361859679,-65.00085361859679,-64.99788762512287,-64.99788762512287,-64.99492165797726,-64.99492165797726,-64.99195571718239,-64.99195571718239,-64.98898980276076,-64.98898980276076,-64.98602391473477,-64.98379951605094,-64.98379951605094,-64.9830580531269,-64.9830580531269,-64.97786785894921,-64.97786785894921,-64.97712640925526,-64.97712640925526,-64.9741606270364,-64.97119487132541,-64.96822914214476,-64.96822914214476,-64.96526343951689,-64.95636649117417,-64.95636649117417,-64.95340089498168],"lat":[-9.643272220869539,-9.643043347331078,-9.642814450193368,-9.642585529459351,-9.645151609271105,-9.644922606336422,-9.644464529680119,-9.644006358660857,-9.642723454525546,-9.642608911688477,-9.64132604376972,-9.641211509697534,-9.640982423871755,-9.640753314473217,-9.640524181504869,-9.640295024969657,-9.638370961466645,-9.638313679650899,-9.637672339597218,-9.637500496316321,-9.637271351331581,-9.635988738735414,-9.635874172080902,-9.634591595719382,-9.634477037848789,-9.634247904450962,-9.631682904458389,-9.631453806214497,-9.629530156861403,-9.629472889629424,-9.628831687633204,-9.628659888121838,-9.627377522322794,-9.627262996640752,-9.625980667093636,-9.625866150209196,-9.624583856916631,-9.624469348831697,-9.623187091796309,-9.623072592512774,-9.621790371737191,-9.621675881256955,-9.620393696743799,-9.620279215068759,-9.618035469801008,-9.618006854887129,-9.617686326163289,-9.617486017913334,-9.614921888083913,-9.614693001082674,-9.609645238526436,-9.609638089042816,-9.609557968584699,-9.609336325005842,-9.606772571799468,-9.606543814075813,-9.603980206026987,-9.603751483599977,-9.601188020729664,-9.600959333614465,-9.598396015943615,-9.598167364155392,-9.595604191704959,-9.595375575258879,-9.592812548049801,-9.592355362466611,-9.591440710491632,-9.590983244147051,-9.589701998149772,-9.589587631652055,-9.589473259309232,-9.590754475895817,-9.590525684262563,-9.587963331541035,-9.587734575362402,-9.587505795813826,-9.58727699289827,-9.584714903199746,-9.58448613577221,-9.584257344989775,-9.581695459519672,-9.581466704249527,-9.581237925636563,-9.578676244433966,-9.578447501357561,-9.578218734950417,-9.575657258054402,-9.575428527208073,-9.572867195763097,-9.572638500492715,-9.570077314519647,-9.569848654840337,-9.567287614360042,-9.565366890834971,-9.565309748044939,-9.564669521378411,-9.564498095320264,-9.561937286975645,-9.561708757436286,-9.559148094640998,-9.558919600744071,-9.556359083518956,-9.555078857405487,-9.554964645923892,-9.553684456209655,-9.553570253645459,-9.551009968692933,-9.550781605056455,-9.548221465730593,-9.54799313778787,-9.545433144109492,-9.542873237157364,-9.542645003865541,-9.540085242596527,-9.537525568083574,-9.537297429469545,-9.534737900675321,-9.528339458410686,-9.528225483568558,-9.526945874963561,-9.526831909065182,-9.524272786457429,-9.521713750695284,-9.519474665655721,-9.51944619446329,-9.519126331522486,-9.518927029493179,-9.513809510248977,-9.511250880977363,-9.511023262417069,-9.508464779030056,-9.505906382578102,-9.50334807307617,-9.500789850539212,-9.498231714982191,-9.495673666420064,-9.49311570486778,-9.490557830340288,-9.488000042852539,-9.485442342419482,-9.482884729056059,-9.480327202777213,-9.47776976359788,-9.475212411533004,-9.47265514659752,-9.470097968806359,-9.467540878174454,-9.467767494367671,-9.462653456719597,-9.457539767888495,-9.454983054316619,-9.455152780265839,-9.45451360445095,-9.454570173207671,-9.452652667430378,-9.450096069417864,-9.447539558684404,-9.444983135244915,-9.442426799114303,-9.442539792311722,-9.441261642254865,-9.441374614972602,-9.432428072845276,-9.432653794761222,-9.430097777513364,-9.427541847664257,-9.424986005228796,-9.425155149001345,-9.42451619100256,-9.424572565709836,-9.422655713452119,-9.41754434791868,-9.417319002553256,-9.4198745826584,-9.41964915543803,-9.419423705297927,-9.419198232241019,-9.41897273627022,-9.418747217388461,-9.418521675598662,-9.418296110903748,-9.418070523306641,-9.417844912810271,-9.417619279417559,-9.417393623131437,-9.417167943954828,-9.415890496802961,-9.41577766338432,-9.414500252850878,-9.414387428464908,-9.413936073728467,-9.411541126247091,-9.411527023395889,-9.411367363194771,-9.411155813167179,-9.4109301376554,-9.410704439282995,-9.408150095963602,-9.407924433782094,-9.407698748751955,-9.406421668954911,-9.406308832637311,-9.405031789481503,-9.404918962219142,-9.404693290567316,-9.402777833304164,-9.402721422899027,-9.402082951776727,-9.401913723077124,-9.401688064839645,-9.399134338441042,-9.398908716466583,-9.396355136694568,-9.39612955099809,-9.393576117873184,-9.392299434149056,-9.392186677070487,-9.390910030014721,-9.390797282012363,-9.388882374646869,-9.388826009590488,-9.388187721778388,-9.38801862914757,-9.385625140172804,-9.385611052005036,-9.385451489042079,-9.385240159314263,-9.382687253868895,-9.382461872547887,-9.379909113846237,-9.378632767361209,-9.378520112503763,-9.377243802711241,-9.377131156946431,-9.374578632668172,-9.372664296994738,-9.372607997846229,-9.371969900610598,-9.371801005725905,-9.369248715935511,-9.366696513848543,-9.366471419041709,-9.363919363803628,-9.358815516540757,-9.358590576427819,-9.356038843568676,-9.353487198486549,-9.350935641196255,-9.348384171712594,-9.348159445472373,-9.344332494628315,-9.344220167367173,-9.3429445757914,-9.342832257653301,-9.340918933650839,-9.340862783548902,-9.340225023560714,-9.340056575853966,-9.337505635184352,-9.337281077588594,-9.334730283957322,-9.334505762892491,-9.331955116319959,-9.330679825998615,-9.330567601358426,-9.329292347808316,-9.329180132307545,-9.327904915531214,-9.327792709171721,-9.326517529171715,-9.326405331955366,-9.324492625368428,-9.324436535737625,-9.323798981567355,-9.323630715298695,-9.322355645642945,-9.322243475867193,-9.320968442997954,-9.320856282372791,-9.320631944186069,-9.318082033212908,-9.317857731646486,-9.316582838751808,-9.316470694305547,-9.315195838209021,-9.314859415430462,-9.31294723914548,-9.312891174850327,-9.31225379745679,-9.312085607217506,-9.311861333834628,-9.309311982906037,-9.309087746206169,-9.307813133364764,-9.307701021371576,-9.306426445346498,-9.306314342529275,-9.306090119998897,-9.303859742669006,-9.303831719748706,-9.303513100844535,-9.303316937030552,-9.303092728705524,-9.300543938099029,-9.300319766519687,-9.297771123239496,-9.297546988420704,-9.294998492487119,-9.293724277555524,-9.293612246162104,-9.292338068073679,-9.292226045877062,-9.28967778542116,-9.289453783444465,-9.286905670390221,-9.28435764547595,-9.284133739592159,-9.281585862114275,-9.276490371680698,-9.276266621203249,-9.273719067563945,-9.271171602137688,-9.268624224939195,-9.266076935983184,-9.26352973528437,-9.260982622857469,-9.258435598717188,-9.255888662878238,-9.253341815355325,-9.253565032260651,-9.251018213784134,-9.245924841883014,-9.246119982708622,-9.245801652217386,-9.245829527154113,-9.243601245898951,-9.241054721616511,-9.241221880546503,-9.240585252175162,-9.240640965319578,-9.23618469551845,-9.236407430410001,-9.233861052852063,-9.233972382287444,-9.232699211861329,-9.232810520896589,-9.231537357770728,-9.231648646407068,-9.23037549058413,-9.230486758822751,-9.229213610305418,-9.229324858147518,-9.228051716938459,-9.228162944385238,-9.226889810487128,-9.227001017539784,-9.225727890955302,-9.225839077615039,-9.224565958346851,-9.224788285299992,-9.222242053915583,-9.22263096870177,-9.221994398776808,-9.222049948748262,-9.220140261069325,-9.220362402587723,-9.220584521776619,-9.220695572996597,-9.219422401534912,-9.219533432371584,-9.218260268247047,-9.218482283573517,-9.219370121529582,-9.219813906457217,-9.222360671078103,-9.222582589171157,-9.222804484905765,-9.225033080093366,-9.225060821956703,-9.225379199155283,-9.225795299024105,-9.228342477289422,-9.228564424187255,-9.229838076077968,-9.229949055914664,-9.23122274471323,-9.23133373373345,-9.231555694980091,-9.233784781207317,-9.233812531254104,-9.234130978598074,-9.234325225590506,-9.234547201150223,-9.237094940499034,-9.237316952751138,-9.238590885152764,-9.238701897646866,-9.239975866938261,-9.240086888600263,-9.240308915105864,-9.24277737940006,-9.242784319155668,-9.242863948475831,-9.243301112545184,-9.245849412701002,-9.246071490054213,-9.248540297380702,-9.248547238724422,-9.248626879109681,-9.248842051676498,-9.250753489737424,-9.250809025794323,-9.251446186556661,-9.251612797376932,-9.252887157622645,-9.252998239245477,-9.254272636352718,-9.254383727120388,-9.255658161086622,-9.255769260997271,-9.257043731819961,-9.257154840871735,-9.257377042111992,-9.25992613859583,-9.260148376382677,-9.262697620257519,-9.26397227532444,-9.264083430053978,-9.26535812196213,-9.265469285821647,-9.267381387222132,-9.267436978108556,-9.268074359971052,-9.268241135253042,-9.270790762162925,-9.271013168516523,-9.273562942742016,-9.273785385576902,-9.276335307097682,-9.277610300960333,-9.277721558180728,-9.278996588860675,-9.279107855194718,-9.280382922689418,-9.280494198135244,-9.281769302442154,-9.281880586997909,-9.284271494686394,-9.284285408316057,-9.284444805149651,-9.284653502472036,-9.287203953983443,-9.287426601581863,-9.289977200292702,-9.29019988429215,-9.292750630182059,-9.294026036196563,-9.294137413958257,-9.295412856760992,-9.29552424361626,-9.298075224833369,-9.298298040560034,-9.303081478501475,-9.30310934269769,-9.303428250498676,-9.303623296422478,-9.306174659991527,-9.308726111670472,-9.310001870546531,-9.310113391281778,-9.311389186919891,-9.31150071673313,-9.314052403546642,-9.316604178425932,-9.316827338970878,-9.319379260854689,-9.321931270774936,-9.324483368716809,-9.326955797522624,-9.326962778235735,-9.327042535436188,-9.3272589283365,-9.327426443697876,-9.326788363172003,-9.326844195105267,-9.324929975475948,-9.325153244822918,-9.325599715437187,-9.326046095259267,-9.32649238426602,-9.323939756014013,-9.3241628075618,-9.324385836403232,-9.324608842535419,-9.324831825955474,-9.325054786660509,-9.325277724647634,-9.325500639913965,-9.325723532456614,-9.325946402272701,-9.326169249359337,-9.327445846807581,-9.327557276534595,-9.328833910695799,-9.329168209890005,-9.329613862542367,-9.329836654744954,-9.332071049064359,-9.33209890292153,-9.332418108529053,-9.332613082003306,-9.332835887491591,-9.334112778793555,-9.334224187698556,-9.335501115695862,-9.335612533605277,-9.335835352343343,-9.338229734288067,-9.338243663147065,-9.338403291588866,-9.338612217237985,-9.339889284694241,-9.340000718211606,-9.341277822351479,-9.341389264863516,-9.342666405684446,-9.342777857189287,-9.344055034688704,-9.34416649518448,-9.346401634417969,-9.346429505078172,-9.346748817096811,-9.346943908165409,-9.349498505184046,-9.349721503770814,-9.35227624745359,-9.354831079032902,-9.355054172291597,-9.357609150499904,-9.358886672555132,-9.358998254677781,-9.360275813383666,-9.360387404479322,-9.362942617148523,-9.363165840935638,-9.365721200178124,-9.367637777244603,-9.367693605314619,-9.368332478984327,-9.368499965628532,-9.372972312049949,-9.373028163764564,-9.37366709601403,-9.373834653585259,-9.3763904814851,-9.378946397148855,-9.380863391482784,-9.380919281515569,-9.381558294264487,-9.38172596678117,-9.384282116646963,-9.389394679522127,-9.409848437418979,-9.420077418535865,-9.419909085422413,-9.420548432231977,-9.420492314648344,-9.422410376880327,-9.424967869747269,-9.427525450094961,-9.430083117908479,-9.429858412963462,-9.434973893469383,-9.437531764861044,-9.437419315652761,-9.438698269443098,-9.438585799789918,-9.439864760745396,-9.44242274819754,-9.444980823025492,-9.447538985214321,-9.447313823026194,-9.449872013817775,-9.454988657378342,-9.454763295879255,-9.457321689868374,-9.459880171143229,-9.46243873968888,-9.462325962152724,-9.463605264458627,-9.463492466459165,-9.464771775887547,-9.469889231684084,-9.475007036323721,-9.474781158567417,-9.477340132902047,-9.479899194402371,-9.482458343053429,-9.485017578840251,-9.487576901747873,-9.490136311761326,-9.492695808865632,-9.495255393045822,-9.497815064286916,-9.498041470925882,-9.500601287978615,-9.501054149226649,-9.501959593395689,-9.502412176269987,-9.504972550258614,-9.505198865593274,-9.505425157709348,-9.50565142660392,-9.505877672274076,-9.508438368085136,-9.508890907105812,-9.511451807285932,-9.511678100612249,-9.512958612660881,-9.513071765273313,-9.514352313734594,-9.514465475200288,-9.514691780688146,-9.517253030833992,-9.51747937171673,-9.518760058728079,-9.518873235106254,-9.520153958518332,-9.520493496723768,-9.523055096721798,-9.523281485061181,-9.525843230626357,-9.526069654306173,-9.528631545417646,-9.528858004422771,-9.531420041059679,-9.531646535374993,-9.534208717516467,-9.53443524712684,-9.536997574752009,-9.53722413964231,-9.539786612730296,-9.540013212885398,-9.542575831415313,-9.542802466820074,-9.545365230771029,-9.545591901410313,-9.54815481076141,-9.548381516620077,-9.549174803046441,-9.54789320573312,-9.548006494346337,-9.546724904094981,-9.546951434509179,-9.547177941542342,-9.547404425191557,-9.549967803032606,-9.550194321828297,-9.550647289228868,-9.551929098490259,-9.552042340344292,-9.553324185932411,-9.553437436563202,-9.553663920266247,-9.554945831432878,-9.555059079130441,-9.556341026617051,-9.556680778454254,-9.559244826249001,-9.559471356682499,-9.562035549721232,-9.562262115204115,-9.564826453465882,-9.565053053982984,-9.567617537446827,-9.570101963489163,-9.570109047975032,-9.570189192162367,-9.570408801627927,-9.572973516966686,-9.575538318984171,-9.575765106457018,-9.578330053604793,-9.580895087401281,-9.583460207831395,-9.583687147202165,-9.593948728801569,-9.604211695333817,-9.603987841688097,-9.604027933216166,-9.604024379785409,-9.606550187725059,-9.609116173661132,-9.611682246064722,-9.611568446001,-9.612851500006601,-9.612737679432957,-9.614020740432169,-9.61915320050298,-9.618925395489907,-9.621491696667844,-9.621377756077219,-9.622660924443963,-9.622546963335411,-9.623830138677326,-9.626396554141555,-9.626168526500155,-9.62873496983741,-9.628506860105073,-9.631073331293736,-9.630845139460819,-9.633411638479279,-9.633183364536146,-9.63574989136279,-9.635521535299802,-9.635350252758579,-9.635991872349521,-9.635934771560494,-9.637859651720543,-9.637459828066904,-9.638101439966629,-9.638044312741091,-9.63996916981935,-9.639740602258309,-9.639512011086934,-9.639283396308167,-9.641849772262256,-9.641621075321643,-9.640934842865146,-9.643501070805812,-9.643272220869539]}]]],null,"Upstream river course (buffered)",{"interactive":true,"className":"","stroke":true,"color":"#1d7990","weight":5,"opacity":0.5,"fill":"#1d7990","fillColor":"#1d7990","fillOpacity":0.2,"smoothFactor":1,"noClip":false},["Santo Antonio","Jirau"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addCircleMarkers","args":[[-8.801600000000001,-9.266500000000001],[-63.9506,-64.6478],10,null,"Dam point locations",{"interactive":true,"className":"","stroke":true,"color":"#f18e26","weight":5,"opacity":0.5,"fill":"#f18e26","fillColor":"#f18e26","fillOpacity":1},null,null,["Santo Antonio","Jirau"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addPolylines","args":[[[[{"lng":[-64.30757601389305,-64.29013671874999,-64.27739257812499,-64.26079101562499,-64.24064941406249,-64.202880859375,-64.18466796874999,-64.14453125,-64.10136718749999,-64.08269042968749,-64.06884765625,-64.07114257812499,-64.08012695312499,-64.08642578125,-64.08342285156249,-64.07211914062499,-64.053466796875,-64.005859375,-63.99008789062499,-63.97880859374999,-63.9697265625,-63.95927734375,-63.95059999999999],"lat":[-9.085198692372202,-9.047393487505886,-9.029327081255886,-9.01482512813088,-9.00872161250588,-9.01018645625588,-9.008330987505886,-8.995440362505889,-8.975909112505891,-8.963409112505889,-8.943682550005887,-8.92571380000588,-8.90886809688088,-8.892022393755877,-8.87517669063088,-8.85711028438088,-8.842705987505877,-8.832842706255889,-8.82268645625588,-8.809405206255889,-8.79583098750588,-8.787139581255886,-8.781551950214888]}]],[[{"lng":[-64.95933211400914,-64.93986816406249,-64.93034667968749,-64.92436523437499,-64.9150390625,-64.89121093749999,-64.88151855468749,-64.87102050781249,-64.84624023437499,-64.83684082031249,-64.82080078125,-64.81389160156249,-64.81416015625,-64.81943359374999,-64.83464355468749,-64.83513183593749,-64.82316894531249,-64.80712890625,-64.75937499999999,-64.737548828125,-64.72827148437501,-64.72412109375,-64.72153320312499,-64.717041015625,-64.68974609374999,-64.678955078125,-64.6478],"lat":[-9.59499608136778,-9.59783294063088,-9.59563567500588,-9.590655206255887,-9.577325128130877,-9.55584075313088,-9.549981378130884,-9.54729583125588,-9.544268487505892,-9.539727471880878,-9.520049737505889,-9.499541925005886,-9.47771575313088,-9.45378997188088,-9.41106536250588,-9.39226653438088,-9.37493255000588,-9.37102630000588,-9.37297942500588,-9.364434503130882,-9.354327081255889,-9.344561456255889,-9.33440520625588,-9.32341887813088,-9.29265715938088,-9.283721612505886,-9.265114849300346]}],[{"lng":[-64.9652634395169,-64.95938092837066],"lat":[-9.594131368669094,-9.594988965277327]}]]],null,"Upstream river course",{"interactive":true,"className":"","stroke":true,"color":"#032733","weight":5,"opacity":0.5,"fill":false,"fillColor":"#032733","fillOpacity":0.2,"smoothFactor":1,"noClip":false},["Santo Antonio","Jirau"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addProviderTiles","args":["OpenStreetMap",null,"OpenStreetMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["Esri.WorldImagery",null,"Satellite",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addLayersControl","args":[["OpenStreetMap","Satellite"],["Dam point locations","Upstream river course","Dam point locations (buffered)","Upstream river course (buffered)"],{"collapsed":false,"autoZIndex":true,"position":"bottomright"}]}],"limits":{"lat":[-9.721120427529756,-8.348095837447037],"lng":[-65.10764672876311,-63.49210294934574]}},"evals":[],"jsHooks":[]}</script>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-leaflet-map-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Visualization of our AOIs at the Madeira fiver upstream of the Santo Antônio and the Jirau dams
</figcaption></figure>
</div>
</div>
<p>Now that we have our AOIs available, we can turn towards fetching the required geospatial data. <code>mapme.biodiversity</code> works by creating a portfolio which consists of one or several assets. Spatial data will be downloaded only for the extent of the portfolio (where possible and sensible). For this, we create a portfolio consisting of our upstream buffers as well as the wider buffers around the dam locations:</p>
<div class="cell">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">portfolio</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html">bind_rows</a></span><span class="op">(</span><span class="va">dams_buffer</span>, <span class="va">upstream_buffer</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>    type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="st">"buffer"</span>, <span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="st">"upstream"</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    assetid <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/row_number.html">row_number</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="va">portfolio</span></span>
<span><span class="co">#&gt; Simple feature collection with 4 features and 4 fields</span></span>
<span><span class="co">#&gt; Geometry type: POLYGON</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -65.10765 ymin: -9.72112 xmax: -63.4921 ymax: -8.348096</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84 (CRS84)</span></span>
<span><span class="co">#&gt;            name start_flooding                       geometry     type assetid</span></span>
<span><span class="co">#&gt; 1 Santo Antonio     2011-01-01 POLYGON ((-63.58061 -8.5388...   buffer       1</span></span>
<span><span class="co">#&gt; 2         Jirau     2013-01-01 POLYGON ((-64.90595 -9.6371...   buffer       2</span></span>
<span><span class="co">#&gt; 3 Santo Antonio     2011-01-01 POLYGON ((-64.31941 -9.1304... upstream       3</span></span>
<span><span class="co">#&gt; 4         Jirau     2013-01-01 POLYGON ((-64.9534 -9.64327... upstream       4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="setting-up-mapme.biodiversity" class="level2"><h2 class="anchored" data-anchor-id="setting-up-mapme.biodiversity">Setting up mapme.biodiversity</h2>
<p><code>mapme.biodiversity</code> comes with a high-level function to configure options for the running R session. Let’s inspect the default output of calling this configuration function:</p>
<div class="cell">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/mapme.html">mapme_options</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; $outdir</span></span>
<span><span class="co">#&gt; [1] "/tmp/RtmpzIEgLF/file70b8062fb2924"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $chunk_size</span></span>
<span><span class="co">#&gt; [1] 1e+05</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $retries</span></span>
<span><span class="co">#&gt; [1] 3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $verbose</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $log_dir</span></span>
<span><span class="co">#&gt; NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The two important options for this tutorial are <code>outdir</code> and <code>chunksize</code>. The <code>outdir</code> option is used to specify where resource data will be written to. When working on your local laptop, it is a good idea to specify a persistent folder to omit re-downloading the same resources every time you run your script.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Using object storages in the cloud
</div>
</div>
<div class="callout-body-container callout-body">
<p>When working in an cloud environment or together with multiple collaborators on the same project, it might be beneficial to store resources in an object storage in the cloud. Any cloud storage supported by GDAL via its <a href="https://gdal.org/en/latest/user/virtual_file_systems.html#network-based-file-systems">virtual file system drivers</a> is supported. This entails AWS S3, Azure Blob Storage, and Google Cloud Storage (GCS), among others. Provided that the required authentication environment variables are correctly set, the following would point towards a hypothetical S3 storage called <code>mapme-data</code>:</p>
<div class="cell">
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/mapme.html">mapme_options</a></span><span class="op">(</span>outdir <span class="op">=</span> <span class="st">"/vsis3/mapme-data"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>The <code>chunk_size</code> option is an important parameter controlling the area threshold after which individual assets will be split up and processed in chunks. It is specified in hectares <code>ha</code>.</p>
<p><a href="#fig-chunks" class="quarto-xref">Figure&nbsp;3</a> shows the effect of applying a <code>chunk_size</code> of a quarter of the largest asset in the portfolio, resulting in a rough split of the larger buffers into 3x3 elements and no chunking applied for the upstream buffers.</p>
<div id="cell-fig-chunks" class="cell">
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">area</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_measures.html">st_area</a></span><span class="op">(</span><span class="va">portfolio</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">/</span> <span class="fl">10000</span> <span class="co"># to ha</span></span>
<span><span class="va">chunks</span> <span class="op">&lt;-</span> <span class="fu">mapme.biodiversity</span><span class="fu">:::</span><span class="fu">.chunk</span><span class="op">(</span><span class="va">portfolio</span>, chunk_size <span class="op">=</span> <span class="va">area</span> <span class="op">/</span> <span class="fl">4</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html">plot</a></span><span class="op">(</span><span class="va">chunks</span><span class="op">[</span><span class="st">"assetid"</span><span class="op">]</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-chunks" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-chunks-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="index_files/figure-html/fig-chunks-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="Figure&nbsp;3: Effect of applying chunking to the assets in a portfolio."><img src="index_files/figure-html/fig-chunks-1.png" class="img-fluid figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-chunks-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Effect of applying chunking to the assets in a portfolio.
</figcaption></figure>
</div>
</div>
</div>
<p>We can put these two options together and apply them for the current R session by calling <code><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/mapme.html">mapme_options()</a></code> with our desired values. Check out the help page of <a href="https://mapme-initiative.github.io/mapme.biodiversity/dev/reference/mapme.html"><code>mapme_options()</code></a> to learn more about the other parameters.</p>
<div class="cell">
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/mapme.html">mapme_options</a></span><span class="op">(</span></span>
<span>    outdir <span class="op">=</span> <span class="st">"./input"</span>,</span>
<span>    chunk_size <span class="op">=</span> <span class="va">area</span> <span class="op">/</span> <span class="fl">4</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/mapme.html">mapme_options</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; $outdir</span></span>
<span><span class="co">#&gt; [1] "./input"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $chunk_size</span></span>
<span><span class="co">#&gt; [1] 198727.4</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $retries</span></span>
<span><span class="co">#&gt; [1] 3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $verbose</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $log_dir</span></span>
<span><span class="co">#&gt; NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="fetching-resources" class="level2"><h2 class="anchored" data-anchor-id="fetching-resources">Fetching resources</h2>
<p>We now make a number of resources available locally because we are aiming at calculating indicators based on those resources for the assets in our portfolio. You can explore all supported resources/indicators e.g.&nbsp;in the <a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/index.html#resources">online documentation</a>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Distinction between resources and indicators
</div>
</div>
<div class="callout-body-container callout-body">
<p>A resource is a supported spatial dataset that can be made available for the extent of a portfolio via <code><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/mapme.html">get_resources()</a></code>. Resources can be of type vector or raster.</p>
<p>An indicator is a function producing a tabular output for each asset in a portfolio via <code><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/mapme.html">calc_indicators()</a></code>. Each indicator requires one ore more resources to be available.</p>
</div>
</div>
<p>The code chunk below will download the resources into their respective sub-directories in <code>./input</code>. We will fetch the <a href="https://mapme-initiative.github.io/mapme.biodiversity/dev/reference/global_surface_water_transitions.html">transition layer</a> from Global Surface Water (GSW) which indicates transition categories for every pixel between 1984-2021. Since we have more precise information about the timing of the dam building, we will also make available the raw <a href="https://mapme-initiative.github.io/mapme.biodiversity/dev/reference/gsw_time_series_resource.html">GSW timeseries</a> which differentiates between surface water classes on a yearly basis. Since ultimately we are interested in learning about forest cover loss associated with flooding, we will also fetch data from Global Forest Watch on the <a href="https://mapme-initiative.github.io/mapme.biodiversity/dev/reference/gfw_treecover.html">treecover density</a> in 2000 and the layer indicating the <a href="https://mapme-initiative.github.io/mapme.biodiversity/dev/reference/gfw_lossyear.html">year of forest loss detection</a>. Finally, we also fetch data from <a href="https://mapme-initiative.github.io/mapme.biodiversity/dev/reference/worldpop.html">WorldPop</a> for a crude estimate of number of affected people in the spatial vicinity of the two dams.</p>
<div class="cell">
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://future.futureverse.org/reference/plan.html">plan</a></span><span class="op">(</span><span class="va">multicore</span>, workers <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="co"># uses 4 workers for parallel processing</span></span>
<span><span class="co"># plan(multisession, workers = 4) # use this if working in RStudio</span></span>
<span><span class="fu"><a href="https://progressr.futureverse.org/reference/with_progress.html">with_progress</a></span><span class="op">(</span><span class="op">{</span> <span class="co"># enables progress bar</span></span>
<span>    <span class="fu"><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/mapme.html">get_resources</a></span><span class="op">(</span></span>
<span>        <span class="va">portfolio</span>,</span>
<span>        <span class="fu"><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/global_surface_water_transitions.html">get_global_surface_water_transitions</a></span><span class="op">(</span>version <span class="op">=</span> <span class="st">"v1_4_2021"</span><span class="op">)</span>,</span>
<span>        <span class="fu"><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/gsw_time_series_resource.html">get_gsw_time_series</a></span><span class="op">(</span>years <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2000</span><span class="op">:</span><span class="fl">2019</span><span class="op">)</span>, version <span class="op">=</span> <span class="st">"VER5-0"</span><span class="op">)</span>,</span>
<span>        <span class="fu"><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/gfw_treecover.html">get_gfw_treecover</a></span><span class="op">(</span>version <span class="op">=</span> <span class="st">"GFC-2023-v1.11"</span><span class="op">)</span>,</span>
<span>        <span class="fu"><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/gfw_lossyear.html">get_gfw_lossyear</a></span><span class="op">(</span>version <span class="op">=</span> <span class="st">"GFC-2023-v1.11"</span><span class="op">)</span>,</span>
<span>        <span class="fu"><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/worldpop.html">get_worldpop</a></span><span class="op">(</span>years <span class="op">=</span> <span class="fl">2019</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://future.futureverse.org/reference/plan.html">plan</a></span><span class="op">(</span><span class="va">sequential</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Parallel processing and progress report
</div>
</div>
<div class="callout-body-container callout-body">
<p><code>mapme.biodiversity</code> follows the <a href="https://future.futureverse.org/">future paradigm</a> to parallel processing. That is that users are responsible to specify a strategy of how to resolve futures via <a href="https://future.futureverse.org/reference/plan.html"><code>plan()</code></a>. The same applies to progress reports via <a href="https://cran.r-project.org/web/packages/progressr/vignettes/progressr-intro.html"><code>progressr</code></a> which requires users to enable progress reports.</p>
</div>
</div>
<p>We can inspect the resources we fetched in the previous step by preparing them for single assets. <code><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/mapme.html">prep_resources()</a></code> will read all fetched resources for the spatial extent of the asset that we provide to it. Note, that it will fail if you provide more than one asset!</p>
<div class="cell">
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">aoi</span> <span class="op">&lt;-</span> <span class="va">portfolio</span><span class="op">[</span><span class="fl">4</span>, <span class="op">]</span></span>
<span><span class="va">resources</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/mapme.html">prep_resources</a></span><span class="op">(</span><span class="va">aoi</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">resources</span></span>
<span><span class="co">#&gt; $global_surface_water_transitions</span></span>
<span><span class="co">#&gt; class       : SpatRaster </span></span>
<span><span class="co">#&gt; dimensions  : 1708, 1649, 1  (nrow, ncol, nlyr)</span></span>
<span><span class="co">#&gt; resolution  : 0.00025, 0.00025  (x, y)</span></span>
<span><span class="co">#&gt; extent      : -65.01275, -64.6005, -9.64525, -9.21825  (xmin, xmax, ymin, ymax)</span></span>
<span><span class="co">#&gt; coord. ref. : lon/lat WGS 84 (EPSG:4326) </span></span>
<span><span class="co">#&gt; source(s)   : memory</span></span>
<span><span class="co">#&gt; color table : 1 </span></span>
<span><span class="co">#&gt; varname     : file70b8042263c32 </span></span>
<span><span class="co">#&gt; name        : transitions_70W_0Nv1_4_2021 </span></span>
<span><span class="co">#&gt; min value   :                           0 </span></span>
<span><span class="co">#&gt; max value   :                          10 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $gsw_time_series</span></span>
<span><span class="co">#&gt; class       : SpatRaster </span></span>
<span><span class="co">#&gt; dimensions  : 1708, 1649, 20  (nrow, ncol, nlyr)</span></span>
<span><span class="co">#&gt; resolution  : 0.00025, 0.00025  (x, y)</span></span>
<span><span class="co">#&gt; extent      : -65.01275, -64.6005, -9.64525, -9.21825  (xmin, xmax, ymin, ymax)</span></span>
<span><span class="co">#&gt; coord. ref. : lon/lat WGS 84 (EPSG:4326) </span></span>
<span><span class="co">#&gt; source(s)   : memory</span></span>
<span><span class="co">#&gt; names       : VER5-~40000, VER5-~40000, VER5-~40000, VER5-~40000, VER5-~40000, VER5-~40000, ... </span></span>
<span><span class="co">#&gt; min values  :           0,           0,           0,           0,           0,           0, ... </span></span>
<span><span class="co">#&gt; max values  :           3,           3,           3,           3,           3,           3, ... </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $gfw_treecover</span></span>
<span><span class="co">#&gt; class       : SpatRaster </span></span>
<span><span class="co">#&gt; dimensions  : 1708, 1649, 1  (nrow, ncol, nlyr)</span></span>
<span><span class="co">#&gt; resolution  : 0.00025, 0.00025  (x, y)</span></span>
<span><span class="co">#&gt; extent      : -65.01275, -64.6005, -9.64525, -9.21825  (xmin, xmax, ymin, ymax)</span></span>
<span><span class="co">#&gt; coord. ref. : lon/lat WGS 84 (EPSG:4326) </span></span>
<span><span class="co">#&gt; source(s)   : memory</span></span>
<span><span class="co">#&gt; varname     : file70b803c73d65 </span></span>
<span><span class="co">#&gt; name        : Hansen_GFC-2023-v1.11_treecover2000_00N_070W </span></span>
<span><span class="co">#&gt; min value   :                                            0 </span></span>
<span><span class="co">#&gt; max value   :                                          100 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $gfw_lossyear</span></span>
<span><span class="co">#&gt; class       : SpatRaster </span></span>
<span><span class="co">#&gt; dimensions  : 1708, 1649, 1  (nrow, ncol, nlyr)</span></span>
<span><span class="co">#&gt; resolution  : 0.00025, 0.00025  (x, y)</span></span>
<span><span class="co">#&gt; extent      : -65.01275, -64.6005, -9.64525, -9.21825  (xmin, xmax, ymin, ymax)</span></span>
<span><span class="co">#&gt; coord. ref. : lon/lat WGS 84 (EPSG:4326) </span></span>
<span><span class="co">#&gt; source(s)   : memory</span></span>
<span><span class="co">#&gt; varname     : file70b8051654d2e </span></span>
<span><span class="co">#&gt; name        : Hansen_GFC-2023-v1.11_lossyear_00N_070W </span></span>
<span><span class="co">#&gt; min value   :                                       0 </span></span>
<span><span class="co">#&gt; max value   :                                      23 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $worldpop</span></span>
<span><span class="co">#&gt; class       : SpatRaster </span></span>
<span><span class="co">#&gt; dimensions  : 52, 50, 1  (nrow, ncol, nlyr)</span></span>
<span><span class="co">#&gt; resolution  : 0.008333333, 0.008333333  (x, y)</span></span>
<span><span class="co">#&gt; extent      : -65.01667, -64.6, -9.65, -9.216667  (xmin, xmax, ymin, ymax)</span></span>
<span><span class="co">#&gt; coord. ref. : lon/lat WGS 84 (EPSG:4326) </span></span>
<span><span class="co">#&gt; source(s)   : memory</span></span>
<span><span class="co">#&gt; varname     : file70b80388f1fd8 </span></span>
<span><span class="co">#&gt; name        : ppp_2019_1km_Aggregated </span></span>
<span><span class="co">#&gt; min value   :                  0.0000 </span></span>
<span><span class="co">#&gt; max value   :                160.5456</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>In this case, all resources represent raster resources. They are read into R as <code>SpatRaster</code> objects from <code>terra</code>. Vector resources would be read as <code>sf</code> objects. The data itself is organized in directories within the <code>outdir</code> directory, which can be shared between projects because <code><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/mapme.html">get_resources()</a></code> will only just index those resources that match the current portfolio.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/dir_tree.html">dir_tree</a></span><span class="op">(</span><span class="st">"./input"</span><span class="op">)</span></span>
<span><span class="co">#&gt; ./input</span></span>
<span><span class="co">#&gt; ├── aoi.gpkg</span></span>
<span><span class="co">#&gt; ├── gfw_lossyear</span></span>
<span><span class="co">#&gt; │   └── Hansen_GFC-2023-v1.11_lossyear_00N_070W.tif</span></span>
<span><span class="co">#&gt; ├── gfw_treecover</span></span>
<span><span class="co">#&gt; │   └── Hansen_GFC-2023-v1.11_treecover2000_00N_070W.tif</span></span>
<span><span class="co">#&gt; ├── global_surface_water_transitions</span></span>
<span><span class="co">#&gt; │   └── transitions_70W_0Nv1_4_2021.tif</span></span>
<span><span class="co">#&gt; ├── gsw_time_series</span></span>
<span><span class="co">#&gt; │   ├── VER5-0_yearlyClassification2000-0000320000-0000440000.tif</span></span>
<span><span class="co">#&gt; │   ├── VER5-0_yearlyClassification2001-0000320000-0000440000.tif</span></span>
<span><span class="co">#&gt; │   ├── VER5-0_yearlyClassification2002-0000320000-0000440000.tif</span></span>
<span><span class="co">#&gt; │   ├── VER5-0_yearlyClassification2003-0000320000-0000440000.tif</span></span>
<span><span class="co">#&gt; │   ├── VER5-0_yearlyClassification2004-0000320000-0000440000.tif</span></span>
<span><span class="co">#&gt; │   ├── VER5-0_yearlyClassification2005-0000320000-0000440000.tif</span></span>
<span><span class="co">#&gt; │   ├── VER5-0_yearlyClassification2006-0000320000-0000440000.tif</span></span>
<span><span class="co">#&gt; │   ├── VER5-0_yearlyClassification2007-0000320000-0000440000.tif</span></span>
<span><span class="co">#&gt; │   ├── VER5-0_yearlyClassification2008-0000320000-0000440000.tif</span></span>
<span><span class="co">#&gt; │   ├── VER5-0_yearlyClassification2009-0000320000-0000440000.tif</span></span>
<span><span class="co">#&gt; │   ├── VER5-0_yearlyClassification2010-0000320000-0000440000.tif</span></span>
<span><span class="co">#&gt; │   ├── VER5-0_yearlyClassification2011-0000320000-0000440000.tif</span></span>
<span><span class="co">#&gt; │   ├── VER5-0_yearlyClassification2012-0000320000-0000440000.tif</span></span>
<span><span class="co">#&gt; │   ├── VER5-0_yearlyClassification2013-0000320000-0000440000.tif</span></span>
<span><span class="co">#&gt; │   ├── VER5-0_yearlyClassification2014-0000320000-0000440000.tif</span></span>
<span><span class="co">#&gt; │   ├── VER5-0_yearlyClassification2015-0000320000-0000440000.tif</span></span>
<span><span class="co">#&gt; │   ├── VER5-0_yearlyClassification2016-0000320000-0000440000.tif</span></span>
<span><span class="co">#&gt; │   ├── VER5-0_yearlyClassification2017-0000320000-0000440000.tif</span></span>
<span><span class="co">#&gt; │   ├── VER5-0_yearlyClassification2018-0000320000-0000440000.tif</span></span>
<span><span class="co">#&gt; │   └── VER5-0_yearlyClassification2019-0000320000-0000440000.tif</span></span>
<span><span class="co">#&gt; ├── madeira.gpkg</span></span>
<span><span class="co">#&gt; ├── mapme-probe.tif</span></span>
<span><span class="co">#&gt; └── worldpop</span></span>
<span><span class="co">#&gt;     └── ppp_2019_1km_Aggregated.tif</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Below, we will briefly discuss the different available resources by visualizing them spatially for the river course upstream of the Jiaru dam and discussing the different indications concerning flooding and associated tree cover loss.</p>
<section id="gsw-transition-layer" class="level3"><h3 class="anchored" data-anchor-id="gsw-transition-layer">GSW Transition layer</h3>
<p><a href="#fig-gsw-transition" class="quarto-xref">Figure&nbsp;4</a> displays the transition layer of GSW which contains information on change of surface water classes between the first and last years of the observation period between 1984 - 2021. In the case of the river course upstream of the Jiaru dam, we can see that the transition layer is dominated by an increase in surfaces classified as new seasonal or new permanent water cover. Other classes appear less frequently, except maybe the permanent coverage of the main river course as well as lost permanent and seasonal surfaces due to changes of where the river is flowing.</p>
<p>We might expect that some proportion of the new permanent/seasonal classes might be associated with the construction of the Jiaru dam, but from the transition layer alone we do not obtain more specific information about the timing of the changes within the observation period. For this, we can visualize GSW yearly classification layers, which form the basis of the transition layer.</p>
<div id="cell-fig-gsw-transition" class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">p_aoi</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rspatial.github.io/terra/reference/lines.html">lines</a></span><span class="op">(</span><span class="va">aoi</span>, lty <span class="op">=</span> <span class="fl">2</span>, lwd <span class="op">=</span> <span class="fl">3</span>, col <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">categories</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span></span>
<span>    value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">10</span>, <span class="fl">255</span><span class="op">)</span>,</span>
<span>    levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"not water"</span>, <span class="st">"permanent"</span>, <span class="st">"new permanent"</span>, <span class="st">"lost permanent"</span>, <span class="st">"seasonal"</span>, <span class="st">"new seasonal"</span>, <span class="st">"lost seasonal"</span>, <span class="st">"seasonal to permanent"</span>, <span class="st">"permanent to seasonal"</span>, <span class="st">"ephemeral permanent"</span>, <span class="st">"ephemeral seasonal"</span>, <span class="st">"no data"</span><span class="op">)</span>,</span>
<span>    colors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#FFFFFF"</span>, <span class="st">"#0000FF"</span>, <span class="st">"#22B14C"</span>, <span class="st">"#D1102D"</span>, <span class="st">"#99D9EA"</span>, <span class="st">"#B5E61D"</span>, <span class="st">"#E6A1AA"</span>, <span class="st">"#FF7F27"</span>, <span class="st">"#FFC90E"</span>, <span class="st">"#7F7F7F"</span>, <span class="st">"#C3C3C3"</span>, <span class="st">"#CCCCCC"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">transitions</span> <span class="op">&lt;-</span> <span class="va">resources</span><span class="op">$</span><span class="va">global_surface_water_transitions</span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/colors.html">coltab</a></span><span class="op">(</span><span class="va">transitions</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/factors.html">levels</a></span><span class="op">(</span><span class="va">transitions</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">categories</span><span class="op">[</span> ,<span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span> </span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html">plot</a></span><span class="op">(</span><span class="va">transitions</span>, col <span class="op">=</span> <span class="va">categories</span><span class="op">[</span> ,<span class="fl">3</span><span class="op">]</span>, fun <span class="op">=</span> <span class="va">p_aoi</span>, legend <span class="op">=</span> <span class="st">"bottomright"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="fig-gsw-transition" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-gsw-transition-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="index_files/figure-html/fig-gsw-transition-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2" title="Figure&nbsp;4: Visualization of the GSW transition layer between 1984 and 2021."><img src="index_files/figure-html/fig-gsw-transition-1.png" class="img-fluid figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-gsw-transition-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Visualization of the GSW transition layer between 1984 and 2021.
</figcaption></figure>
</div>
</div>
</div>
</section><section id="gsw-time-series" class="level3"><h3 class="anchored" data-anchor-id="gsw-time-series">GSW time series</h3>
<p><a href="#fig-gsw-timeseries-2007" class="quarto-xref">Figure&nbsp;5</a> indicates the GSW classification for the year 2007 differentiating between surface covered by water (seasonal and permanent) and water free surfaces (no observations and no water). We can see that surfaces seasonally covered by water strictly follow the river course and cover only a very small fraction while the permanent water coverage following the main river course dominates the picture.</p>
<div id="cell-fig-gsw-timeseries-2007" class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">levels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"no observation"</span>, <span class="st">"not water"</span>, <span class="st">"seasonal water"</span>, <span class="st">"permanent water"</span><span class="op">)</span></span>
<span><span class="va">colors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#CCCCCC"</span>, <span class="st">"#7F7F7F"</span>, <span class="st">"#99D9EA"</span>, <span class="st">"#0000FF"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html">plot</a></span><span class="op">(</span><span class="va">resources</span><span class="op">$</span><span class="va">gsw_time_series</span><span class="op">[[</span><span class="fl">8</span><span class="op">]</span><span class="op">]</span>, col <span class="op">=</span> <span class="va">colors</span>, type <span class="op">=</span> <span class="st">"classes"</span>, levels <span class="op">=</span> <span class="va">levels</span>, fun <span class="op">=</span> <span class="va">p_aoi</span>, legend <span class="op">=</span> <span class="st">"bottomright"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="fig-gsw-timeseries-2007" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-gsw-timeseries-2007-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="index_files/figure-html/fig-gsw-timeseries-2007-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3" title="Figure&nbsp;5: GSW classification layer for the year 2007 with values (0) no-observation, (1) not water, (2) seasonal water, (3) permanent water."><img src="index_files/figure-html/fig-gsw-timeseries-2007-1.png" class="img-fluid figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-gsw-timeseries-2007-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: GSW classification layer for the year 2007 with values (0) no-observation, (1) not water, (2) seasonal water, (3) permanent water.
</figcaption></figure>
</div>
</div>
</div>
<p><a href="#fig-gsw-timeseries-2017" class="quarto-xref">Figure&nbsp;6</a> displays the GSW classification layer for the year 2017. We see a substantial increase of surfaces seasonally covered by water compared to the classification of 2007. Also, especially in the North close to the dam location, we also see an increase of the surface that is permanently covered by water.</p>
<div id="cell-fig-gsw-timeseries-2017" class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html">plot</a></span><span class="op">(</span><span class="va">resources</span><span class="op">$</span><span class="va">gsw_time_series</span><span class="op">[[</span><span class="fl">18</span><span class="op">]</span><span class="op">]</span>, col <span class="op">=</span> <span class="va">colors</span>, type <span class="op">=</span> <span class="st">"classes"</span>, levels <span class="op">=</span> <span class="va">levels</span>, fun <span class="op">=</span> <span class="va">p_aoi</span>, legend <span class="op">=</span> <span class="st">"bottomright"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="fig-gsw-timeseries-2017" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-gsw-timeseries-2017-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="index_files/figure-html/fig-gsw-timeseries-2017-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4" title="Figure&nbsp;6: GSW classification layer for the year 2017 with values (0) no-observation, (1) permanent water, (2) seasonal water, (3) no water."><img src="index_files/figure-html/fig-gsw-timeseries-2017-1.png" class="img-fluid figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-gsw-timeseries-2017-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: GSW classification layer for the year 2017 with values (0) no-observation, (1) permanent water, (2) seasonal water, (3) no water.
</figcaption></figure>
</div>
</div>
</div>
<p>We thus obtained a first indication that the newly flooded areas are quite significant and that they occurred after the construction of the Jiaru dam. However, until now we have no information of the land cover of these flooded areas with regard to if forest cover was lost due to the flooding. For this, we will visualize GFW treecover and lossyear layers.</p>
</section><section id="gfw-tree-cover-2000" class="level3"><h3 class="anchored" data-anchor-id="gfw-tree-cover-2000">GFW Tree Cover 2000</h3>
<p><a href="#fig-gfw-treecover" class="quarto-xref">Figure&nbsp;7</a> displays the tree cover layer from GFW. It indicates the percentage of canopy coverage per pixel for the year 2000. We see that to the North of the river the canopy cover is really dense (~100%) while we see parts with lower canopy cover on the South of the river banks. There, we can also see lower densities in proximity to linear structures that indicates potential human-driven deforestation along roads that already occurred prior to the year 2000.</p>
<div id="cell-fig-gfw-treecover" class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html">plot</a></span><span class="op">(</span><span class="va">resources</span><span class="op">$</span><span class="va">gfw_treecover</span>, col <span class="op">=</span> <span class="fu"><a href="https://rspatial.github.io/terra/reference/flip.html">rev</a></span><span class="op">(</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/mappal.html">map.pal</a></span><span class="op">(</span><span class="st">"grass"</span><span class="op">)</span><span class="op">)</span>, fun <span class="op">=</span> <span class="va">p_aoi</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="fig-gfw-treecover" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-gfw-treecover-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="index_files/figure-html/fig-gfw-treecover-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5" title="Figure&nbsp;7: GFW treecover layer with values indicating the canopy cover in the year 2000 (%)."><img src="index_files/figure-html/fig-gfw-treecover-1.png" class="img-fluid figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-gfw-treecover-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7: GFW treecover layer with values indicating the canopy cover in the year 2000 (%).
</figcaption></figure>
</div>
</div>
</div>
<p><a href="#fig-gfw-lossyear" class="quarto-xref">Figure&nbsp;8</a> shows the year of forest cover loss detected by GFW between 2000 and 2023. Orang-ish to yellow colors represent loss occurrences before 2010 while green to blue-ish colors indicated losses towards 2023. Here, again, we see distinct patterns between the North and the South of the river bank. To the North, we observe a domination of tree cover loss between 2010 and 2015 in more naturally shaped areas - an indication of tree cover loss associated with flooding the lowest areas as a result of raising water levels. To the South, we observe both, tree cover losses before and after 2010 mostly occurring in rectangular shapes, again an indication of human-driven deforestation in that areas.</p>
<div id="cell-fig-gfw-lossyear" class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb23"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html">plot</a></span><span class="op">(</span><span class="va">resources</span><span class="op">$</span><span class="va">gfw_lossyear</span> <span class="op">+</span> <span class="fl">2000</span>, col <span class="op">=</span> <span class="fu"><a href="https://rspatial.github.io/terra/reference/flip.html">rev</a></span><span class="op">(</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/mappal.html">map.pal</a></span><span class="op">(</span><span class="st">"haxby"</span><span class="op">)</span><span class="op">)</span>, fun <span class="op">=</span> <span class="va">p_aoi</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="fig-gfw-lossyear" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-gfw-lossyear-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="index_files/figure-html/fig-gfw-lossyear-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6" title="Figure&nbsp;8: GFW lossyear layer with values indicating the year of detected forest loss."><img src="index_files/figure-html/fig-gfw-lossyear-1.png" class="img-fluid figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-gfw-lossyear-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8: GFW lossyear layer with values indicating the year of detected forest loss.
</figcaption></figure>
</div>
</div>
</div>
</section></section><section id="calculating-indicators" class="level2"><h2 class="anchored" data-anchor-id="calculating-indicators">Calculating indicators</h2>
<p>An indicator requires at least a single resource to be available via <code><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/mapme.html">get_resources()</a></code>. You can search through the available indicators and learn about their required arguments e.g.&nbsp;in the <a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/index.html#indicators">online documentation</a>.</p>
<p>Below, we calculate several indicators that we will base our further analysis on. Note, that we wrap our code in <code><a href="https://future.futureverse.org/reference/plan.html">plan()</a></code> to enable parallel processing as well as <code><a href="https://progressr.futureverse.org/reference/with_progress.html">with_progress()</a></code> to enable a progress bar (only visible in an interactive R session). When calling <code><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/mapme.html">calc_indicators()</a></code>, we split up our original portfolio in two parts: one for buffers of the upstream river courses and the other one for the 50 km circular buffers around the dam locations. We calculate a distinct set of indicators for each: a timeseries of forest cover and surface water as well as the surface water transition classes for the upstream rivers courses and the population count only for the dam buffers.</p>
<div class="cell">
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://future.futureverse.org/reference/plan.html">plan</a></span><span class="op">(</span><span class="va">multicore</span>, workers <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="co"># uses 4 workers for parallel processing</span></span>
<span><span class="co"># plan(multisession, workers = 4) # use this if working in RStudio</span></span>
<span><span class="fu"><a href="https://progressr.futureverse.org/reference/with_progress.html">with_progress</a></span><span class="op">(</span><span class="op">{</span> <span class="co"># enables progress bar</span></span>
<span>    <span class="va">upstreams</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/mapme.html">calc_indicators</a></span><span class="op">(</span></span>
<span>        <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">portfolio</span>, <span class="va">type</span> <span class="op">==</span> <span class="st">"upstream"</span><span class="op">)</span>,</span>
<span>        <span class="fu"><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/treecover_area.html">calc_treecover_area</a></span><span class="op">(</span>years <span class="op">=</span> <span class="fl">2000</span><span class="op">:</span><span class="fl">2019</span>, min_size <span class="op">=</span> <span class="fl">1</span>, min_cover <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>,</span>
<span>        <span class="fu"><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/gsw_time_series_indicator.html">calc_gsw_time_series</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>        <span class="fu"><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/gsw_transitions.html">calc_gsw_transitions</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>    <span class="va">buffers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/mapme.html">calc_indicators</a></span><span class="op">(</span></span>
<span>        <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">portfolio</span>, <span class="va">type</span> <span class="op">==</span> <span class="st">"buffer"</span><span class="op">)</span>,</span>
<span>        <span class="fu"><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/population_count.html">calc_population_count</a></span><span class="op">(</span>stats <span class="op">=</span> <span class="st">"sum"</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://future.futureverse.org/reference/plan.html">plan</a></span><span class="op">(</span><span class="va">sequential</span><span class="op">)</span> <span class="co"># closes idle processes</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>After the successful indicator calculation, we rowwise-bind together the resulting objects. If we inspect the portfolio object, we can observe that indicators are added as nested-list columns to our portfolio. In case an indicator is not present for a certain asset <code><a href="https://dplyr.tidyverse.org/reference/bind_rows.html">bind_rows()</a></code> will fill in a <code>NULL</code> value. We can see, that the objects within the indicator columns are <code>tibble</code>s. When inspecting the first one for the <code>treecover_area</code> indicator, we see that it has the column names <code>datetime</code>, <code>variable</code>, <code>unit</code> and <code>value</code>. This data model is used for every indicator in <code>mapme.biodiversity</code> and allows an easy integration into further analysis workflows as we will see below.</p>
<section id="serializing-portfolios-to-disk" class="level3"><h3 class="anchored" data-anchor-id="serializing-portfolios-to-disk">Serializing portfolios to disk</h3>
<div class="cell">
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">inds_portfolio</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html">bind_rows</a></span><span class="op">(</span><span class="va">upstreams</span>, <span class="va">buffers</span><span class="op">)</span></span>
<span><span class="va">inds_portfolio</span></span>
<span><span class="co">#&gt; Simple feature collection with 4 features and 8 fields</span></span>
<span><span class="co">#&gt; Geometry type: POLYGON</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -65.10765 ymin: -9.72112 xmax: -63.4921 ymax: -8.348096</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84 (CRS84)</span></span>
<span><span class="co">#&gt; # A tibble: 4 × 9</span></span>
<span><span class="co">#&gt;   name          start_flooding      type   assetid treecover_area gsw_timeseries</span></span>
<span><span class="co">#&gt; * &lt;chr&gt;         &lt;dttm&gt;              &lt;chr&gt;    &lt;int&gt; &lt;list&gt;         &lt;list&gt;        </span></span>
<span><span class="co">#&gt; 1 Santo Antonio 2011-01-01 00:00:00 upstr…       3 &lt;tibble&gt;       &lt;tibble&gt;      </span></span>
<span><span class="co">#&gt; 2 Jirau         2013-01-01 00:00:00 upstr…       4 &lt;tibble&gt;       &lt;tibble&gt;      </span></span>
<span><span class="co">#&gt; 3 Santo Antonio 2011-01-01 00:00:00 buffer       1 &lt;NULL&gt;         &lt;NULL&gt;        </span></span>
<span><span class="co">#&gt; 4 Jirau         2013-01-01 00:00:00 buffer       2 &lt;NULL&gt;         &lt;NULL&gt;        </span></span>
<span><span class="co">#&gt; # ℹ 3 more variables: gsw_transitions &lt;list&gt;, geometry &lt;POLYGON [°]&gt;,</span></span>
<span><span class="co">#&gt; #   population_count &lt;list&gt;</span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/headtail.html">head</a></span><span class="op">(</span><span class="va">inds_portfolio</span><span class="op">$</span><span class="va">treecover_area</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 6 × 4</span></span>
<span><span class="co">#&gt;   datetime            variable  unit   value</span></span>
<span><span class="co">#&gt;   &lt;dttm&gt;              &lt;chr&gt;     &lt;chr&gt;  &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 2000-01-01 00:00:00 treecover ha    50695.</span></span>
<span><span class="co">#&gt; 2 2001-01-01 00:00:00 treecover ha    50229.</span></span>
<span><span class="co">#&gt; 3 2002-01-01 00:00:00 treecover ha    49511.</span></span>
<span><span class="co">#&gt; 4 2003-01-01 00:00:00 treecover ha    48674.</span></span>
<span><span class="co">#&gt; 5 2004-01-01 00:00:00 treecover ha    48013.</span></span>
<span><span class="co">#&gt; 6 2005-01-01 00:00:00 treecover ha    46485.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can serialize a portfolio object to a GeoPackage (GPKG) on disk by using the <code><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/portfolio.html">write_portfolio()</a></code> utility.</p>
<div class="cell">
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">dsn</span> <span class="op">&lt;-</span> <span class="st">"./output/portfolio.gpkg"</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/files.html">file.exists</a></span><span class="op">(</span><span class="va">dsn</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/files.html">file.remove</a></span><span class="op">(</span><span class="va">dsn</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="fu"><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/portfolio.html">write_portfolio</a></span><span class="op">(</span><span class="va">inds_portfolio</span>, dsn <span class="op">=</span> <span class="va">dsn</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This will create a GPKG with two layers called <code>metadata</code> and <code>indicators</code>. The <code>metadata</code> table will contain all flat attributes (e.g.&nbsp;non-nested list columns) plus the geo-information while the <code>indicator</code> table contain all indicators with our known indicator column names in a long format. It is the variable <code>assetid</code> identifying the corresponding indicator data for each asset.</p>
<div class="cell">
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_layers.html">st_layers</a></span><span class="op">(</span><span class="va">dsn</span><span class="op">)</span></span>
<span><span class="co">#&gt; Driver: GPKG </span></span>
<span><span class="co">#&gt; Available layers:</span></span>
<span><span class="co">#&gt;   layer_name geometry_type features fields       crs_name</span></span>
<span><span class="co">#&gt; 1   metadata       Polygon        4      4 WGS 84 (CRS84)</span></span>
<span><span class="co">#&gt; 2 indicators            NA      222      6           &lt;NA&gt;</span></span>
<span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html">read_sf</a></span><span class="op">(</span><span class="va">dsn</span>, layer <span class="op">=</span> <span class="st">"metadata"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simple feature collection with 4 features and 4 fields</span></span>
<span><span class="co">#&gt; Geometry type: POLYGON</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -65.10765 ymin: -9.72112 xmax: -63.4921 ymax: -8.348096</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84 (CRS84)</span></span>
<span><span class="co">#&gt; # A tibble: 4 × 5</span></span>
<span><span class="co">#&gt;   name          start_flooding      type     assetid                        geom</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;         &lt;dttm&gt;              &lt;chr&gt;      &lt;int&gt;               &lt;POLYGON [°]&gt;</span></span>
<span><span class="co">#&gt; 1 Santo Antonio 2011-01-01 00:00:00 upstream       3 ((-64.31941 -9.13046, -64.…</span></span>
<span><span class="co">#&gt; 2 Jirau         2013-01-01 00:00:00 upstream       4 ((-64.9534 -9.643272, -64.…</span></span>
<span><span class="co">#&gt; 3 Santo Antonio 2011-01-01 00:00:00 buffer         1 ((-63.58061 -8.538803, -63…</span></span>
<span><span class="co">#&gt; 4 Jirau         2013-01-01 00:00:00 buffer         2 ((-64.90595 -9.637122, -64…</span></span>
<span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html">read_sf</a></span><span class="op">(</span><span class="va">dsn</span>, layer <span class="op">=</span> <span class="st">"indicators"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 222 × 6</span></span>
<span><span class="co">#&gt;    assetid indicator      datetime            variable  unit   value</span></span>
<span><span class="co">#&gt;      &lt;int&gt; &lt;chr&gt;          &lt;dttm&gt;              &lt;chr&gt;     &lt;chr&gt;  &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1       3 treecover_area 2000-01-01 00:00:00 treecover ha    50695.</span></span>
<span><span class="co">#&gt;  2       3 treecover_area 2001-01-01 00:00:00 treecover ha    50229.</span></span>
<span><span class="co">#&gt;  3       3 treecover_area 2002-01-01 00:00:00 treecover ha    49511.</span></span>
<span><span class="co">#&gt;  4       3 treecover_area 2003-01-01 00:00:00 treecover ha    48674.</span></span>
<span><span class="co">#&gt;  5       3 treecover_area 2004-01-01 00:00:00 treecover ha    48013.</span></span>
<span><span class="co">#&gt;  6       3 treecover_area 2005-01-01 00:00:00 treecover ha    46485.</span></span>
<span><span class="co">#&gt;  7       3 treecover_area 2006-01-01 00:00:00 treecover ha    45933.</span></span>
<span><span class="co">#&gt;  8       3 treecover_area 2007-01-01 00:00:00 treecover ha    45379.</span></span>
<span><span class="co">#&gt;  9       3 treecover_area 2008-01-01 00:00:00 treecover ha    45234.</span></span>
<span><span class="co">#&gt; 10       3 treecover_area 2009-01-01 00:00:00 treecover ha    44609.</span></span>
<span><span class="co">#&gt; # ℹ 212 more rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>While you could join those tables manually, the <code><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/portfolio.html">read_portfolio()</a></code> utility automatically takes care of re-constructing the original portfolio object from the output GPKG:</p>
<div class="cell">
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="op">(</span><span class="va">inds_portfolio</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/portfolio.html">read_portfolio</a></span><span class="op">(</span><span class="va">dsn</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simple feature collection with 4 features and 8 fields</span></span>
<span><span class="co">#&gt; Geometry type: POLYGON</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -65.10765 ymin: -9.72112 xmax: -63.4921 ymax: -8.348096</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84 (CRS84)</span></span>
<span><span class="co">#&gt; # A tibble: 4 × 9</span></span>
<span><span class="co">#&gt;   name          start_flooding      type   assetid treecover_area gsw_timeseries</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;         &lt;dttm&gt;              &lt;chr&gt;    &lt;int&gt; &lt;list&gt;         &lt;list&gt;        </span></span>
<span><span class="co">#&gt; 1 Santo Antonio 2011-01-01 00:00:00 upstr…       3 &lt;tibble&gt;       &lt;tibble&gt;      </span></span>
<span><span class="co">#&gt; 2 Jirau         2013-01-01 00:00:00 upstr…       4 &lt;tibble&gt;       &lt;tibble&gt;      </span></span>
<span><span class="co">#&gt; 3 Santo Antonio 2011-01-01 00:00:00 buffer       1 &lt;NULL&gt;         &lt;NULL&gt;        </span></span>
<span><span class="co">#&gt; 4 Jirau         2013-01-01 00:00:00 buffer       2 &lt;NULL&gt;         &lt;NULL&gt;        </span></span>
<span><span class="co">#&gt; # ℹ 3 more variables: gsw_transitions &lt;list&gt;, population_count &lt;list&gt;,</span></span>
<span><span class="co">#&gt; #   geom &lt;POLYGON [°]&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Sparse indicator table
</div>
</div>
<div class="callout-body-container callout-body">
<p>The indicator table represents the available indicator data as a sparsely. That means that you will only find entries there for an asset-indicator combination which has an actual value. That means that you must take care of filling up missing asset-indicator combinations with <code>NULL</code> if you decide to manually join with the <code>metadata</code> table.</p>
</div>
</div>
</section><section id="downstream-analysis-of-indicator-data" class="level3"><h3 class="anchored" data-anchor-id="downstream-analysis-of-indicator-data">Downstream analysis of indicator data</h3>
<p>Most indicators in <code>mapme.biodiversity</code> represent some sort of zonal statistic, meaning that the spatial dimension of the input data will be aggregated to the extent of the assets in a portfolio. We can, for example, analyze these indicator by visualizing them using <code>ggplot2</code>.</p>
<p><a href="#fig-gg-gsw-transitions" class="quarto-xref">Figure&nbsp;9</a> shows the areal distribution of GSW transition classes upstream of the two dams of interest. We see an substantial increase of seasonal surface water in Jirau of &gt; 10,000 ha, but also increases in the permanent surface water class which sum up to 6,500 ha in total. The ephemeral seasonal class also covers a substantial share of areas. It represents surfaces which transitioned from no water to seasonal water sometime in the observation period, but returned to no water cover before the end of that period.</p>
<div id="cell-fig-gg-gsw-transitions" class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb29"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">upstreams</span><span class="op">$</span><span class="va">gsw_transitions</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt; # A tibble: 10 × 4</span></span>
<span><span class="co">#&gt;    datetime            variable                  unit  value</span></span>
<span><span class="co">#&gt;    &lt;dttm&gt;              &lt;chr&gt;                     &lt;chr&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 2021-01-01 00:00:00 gsw_permanent             ha    8644.</span></span>
<span><span class="co">#&gt;  2 2021-01-01 00:00:00 gsw_new_permanent         ha    4052.</span></span>
<span><span class="co">#&gt;  3 2021-01-01 00:00:00 gsw_lost_permanent        ha     189.</span></span>
<span><span class="co">#&gt;  4 2021-01-01 00:00:00 gsw_seasonal              ha     317.</span></span>
<span><span class="co">#&gt;  5 2021-01-01 00:00:00 gsw_new_seasonal          ha    2296.</span></span>
<span><span class="co">#&gt;  6 2021-01-01 00:00:00 gsw_lost_seasonal         ha     139.</span></span>
<span><span class="co">#&gt;  7 2021-01-01 00:00:00 gsw_seasonal_to_permanent ha     376.</span></span>
<span><span class="co">#&gt;  8 2021-01-01 00:00:00 gsw_permanent_to_seasonal ha     107.</span></span>
<span><span class="co">#&gt;  9 2021-01-01 00:00:00 gsw_ephemeral_permanent   ha     595.</span></span>
<span><span class="co">#&gt; 10 2021-01-01 00:00:00 gsw_ephemeral_seasonal    ha    2103.</span></span>
<span></span>
<span><span class="va">my_theme</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span></span>
<span>        legend.position <span class="op">=</span> <span class="st">"inside"</span>,</span>
<span>        legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>        legend.position.inside <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">.15</span>, <span class="fl">.80</span><span class="op">)</span>,</span>
<span>        axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">12</span>, <span class="op">)</span>,</span>
<span>        axis.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span>,</span>
<span>        axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">45</span>, vjust <span class="op">=</span> <span class="fl">1</span>, hjust <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">colors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#032733"</span>, <span class="st">"#f18e26"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">upstreams</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/portfolio.html">portfolio_long</a></span><span class="op">(</span>indicators <span class="op">=</span> <span class="st">"gsw_transitions"</span>, drop_geoms <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>variable <span class="op">=</span> <span class="fu">forcats</span><span class="fu">::</span><span class="fu"><a href="https://forcats.tidyverse.org/reference/fct_reorder.html">fct_reorder</a></span><span class="op">(</span><span class="va">variable</span>, <span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">variable</span>, y <span class="op">=</span> <span class="va">value</span>, fill <span class="op">=</span> <span class="va">name</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span>, position <span class="op">=</span> <span class="st">"dodge"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="va">colors</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">12000</span>, <span class="fl">2000</span><span class="op">)</span>, expand <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/expansion.html">expansion</a></span><span class="op">(</span>mult <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">.1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Transition category"</span>, y <span class="op">=</span> <span class="st">"Area [ha]"</span>, fill <span class="op">=</span> <span class="st">"Location"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">my_theme</span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="fig-gg-gsw-transitions" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-gg-gsw-transitions-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="index_files/figure-html/fig-gg-gsw-transitions-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7" title="Figure&nbsp;9: GSW transition classes distribution between 1984-2021."><img src="index_files/figure-html/fig-gg-gsw-transitions-1.png" class="img-fluid figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-gg-gsw-transitions-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9: GSW transition classes distribution between 1984-2021.
</figcaption></figure>
</div>
</div>
</div>
<p>From the GSW transition indicator, we are still not obtaining any information on the timing of these changes. For this, we are going to visualize the two most important classes, namely permanent and seasonal water surfaces, over time. <a href="#fig-gg-gsw-ts" class="quarto-xref">Figure&nbsp;10</a> shows that prior to 2011, the surface which was permanently covered by water was relatively stable for both upstream river courses. That changes for the Santo Antonio dam abruptly in 2012, where we observe a steep increase from ~9,000 ha to 13,500 ha of areas permanently covered in water. For the Jirau, the increase is delayed by a year and also with lower magnitude with an increase of about 3,000 ha. This pattern is, however, reversed with the seasonal water class were we see an absolute increase of about 10,000 ha for Jiaru while only about 2,000 ha for Santo Antonio.</p>
<div id="cell-fig-gg-gsw-ts" class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb30"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">upstreams</span><span class="op">$</span><span class="va">gsw_timeseries</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt; # A tibble: 80 × 4</span></span>
<span><span class="co">#&gt;    datetime            variable        unit   value</span></span>
<span><span class="co">#&gt;    &lt;dttm&gt;              &lt;chr&gt;           &lt;chr&gt;  &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 2000-01-01 00:00:00 no_observations ha    51647.</span></span>
<span><span class="co">#&gt;  2 2001-01-01 00:00:00 no_observations ha    51649.</span></span>
<span><span class="co">#&gt;  3 2002-01-01 00:00:00 no_observations ha    51648.</span></span>
<span><span class="co">#&gt;  4 2003-01-01 00:00:00 no_observations ha    51655.</span></span>
<span><span class="co">#&gt;  5 2004-01-01 00:00:00 no_observations ha    51648.</span></span>
<span><span class="co">#&gt;  6 2005-01-01 00:00:00 no_observations ha    51650.</span></span>
<span><span class="co">#&gt;  7 2006-01-01 00:00:00 no_observations ha    51649.</span></span>
<span><span class="co">#&gt;  8 2007-01-01 00:00:00 no_observations ha    51648.</span></span>
<span><span class="co">#&gt;  9 2008-01-01 00:00:00 no_observations ha    51648.</span></span>
<span><span class="co">#&gt; 10 2009-01-01 00:00:00 no_observations ha    51649.</span></span>
<span><span class="co">#&gt; # ℹ 70 more rows</span></span>
<span></span>
<span><span class="va">upstreams</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/portfolio.html">portfolio_long</a></span><span class="op">(</span>indicators <span class="op">=</span> <span class="st">"gsw_timeseries"</span>, drop_geoms <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="va">variable</span> <span class="op"><a href="https://rspatial.github.io/terra/reference/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"no_observations"</span>, <span class="st">"not_water"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">datetime</span>, y <span class="op">=</span> <span class="va">value</span>, color <span class="op">=</span> <span class="va">name</span>, linetype <span class="op">=</span> <span class="va">variable</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span>lwd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="va">start_flooding</span>, color <span class="op">=</span> <span class="va">name</span><span class="op">)</span>, lwd <span class="op">=</span> <span class="fl">1</span>, linetype <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_linetype_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="va">colors</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html">scale_x_datetime</a></span><span class="op">(</span>date_labels <span class="op">=</span> <span class="st">"%Y"</span>, date_breaks <span class="op">=</span> <span class="st">"2 years"</span>, date_minor_breaks <span class="op">=</span> <span class="st">"1 years"</span><span class="op">)</span>  <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">14000</span>, <span class="fl">2000</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Time"</span>, y <span class="op">=</span> <span class="st">"Area [ha]"</span>, color <span class="op">=</span> <span class="st">"Location"</span>, linetype <span class="op">=</span> <span class="st">"Category"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">my_theme</span><span class="op">(</span><span class="op">)</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="fig-gg-gsw-ts" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-gg-gsw-ts-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="index_files/figure-html/fig-gg-gsw-ts-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8" title="Figure&nbsp;10: GSW timeseries with vertical lines indicating the start year of flooding."><img src="index_files/figure-html/fig-gg-gsw-ts-1.png" class="img-fluid figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-gg-gsw-ts-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10: GSW timeseries with vertical lines indicating the start year of flooding.
</figcaption></figure>
</div>
</div>
</div>
<p>We now finally analyze if the observed forest cover loss corresponds to those changes in surface water. <a href="#fig-gg-treecover-loss" class="quarto-xref">Figure&nbsp;11</a> shows cumulative forest losses for both upstream river courses between 2000 and 2019. We see a steep increase in forest losses between 2009 and 2012 for the Santo Antonio river course which closely follows the pattern of the permanent water class in <a href="#fig-gg-gsw-ts" class="quarto-xref">Figure&nbsp;10</a> leveling out towards the end of the observation period. During this time, we observe tree cover losses of about 8,000 ha.</p>
<p>For the Jirau river course, the tree cover loss closely mirrors the dynamic of the seasonal water surface class with a steep increase between 2009 and 2017. During the same time, forest cover losses amount to ~18,000 ha.</p>
<div id="cell-fig-gg-treecover-loss" class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb31"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">upstreams</span><span class="op">$</span><span class="va">treecover_area</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt; # A tibble: 20 × 4</span></span>
<span><span class="co">#&gt;    datetime            variable  unit   value</span></span>
<span><span class="co">#&gt;    &lt;dttm&gt;              &lt;chr&gt;     &lt;chr&gt;  &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 2000-01-01 00:00:00 treecover ha    50695.</span></span>
<span><span class="co">#&gt;  2 2001-01-01 00:00:00 treecover ha    50229.</span></span>
<span><span class="co">#&gt;  3 2002-01-01 00:00:00 treecover ha    49511.</span></span>
<span><span class="co">#&gt;  4 2003-01-01 00:00:00 treecover ha    48674.</span></span>
<span><span class="co">#&gt;  5 2004-01-01 00:00:00 treecover ha    48013.</span></span>
<span><span class="co">#&gt;  6 2005-01-01 00:00:00 treecover ha    46485.</span></span>
<span><span class="co">#&gt;  7 2006-01-01 00:00:00 treecover ha    45933.</span></span>
<span><span class="co">#&gt;  8 2007-01-01 00:00:00 treecover ha    45379.</span></span>
<span><span class="co">#&gt;  9 2008-01-01 00:00:00 treecover ha    45234.</span></span>
<span><span class="co">#&gt; 10 2009-01-01 00:00:00 treecover ha    44609.</span></span>
<span><span class="co">#&gt; 11 2010-01-01 00:00:00 treecover ha    40959.</span></span>
<span><span class="co">#&gt; 12 2011-01-01 00:00:00 treecover ha    38192.</span></span>
<span><span class="co">#&gt; 13 2012-01-01 00:00:00 treecover ha    36774.</span></span>
<span><span class="co">#&gt; 14 2013-01-01 00:00:00 treecover ha    36432.</span></span>
<span><span class="co">#&gt; 15 2014-01-01 00:00:00 treecover ha    35908.</span></span>
<span><span class="co">#&gt; 16 2015-01-01 00:00:00 treecover ha    35751.</span></span>
<span><span class="co">#&gt; 17 2016-01-01 00:00:00 treecover ha    35506.</span></span>
<span><span class="co">#&gt; 18 2017-01-01 00:00:00 treecover ha    34940.</span></span>
<span><span class="co">#&gt; 19 2018-01-01 00:00:00 treecover ha    34818.</span></span>
<span><span class="co">#&gt; 20 2019-01-01 00:00:00 treecover ha    34601.</span></span>
<span></span>
<span><span class="va">upstreams</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/portfolio.html">portfolio_long</a></span><span class="op">(</span>indicators <span class="op">=</span> <span class="st">"treecover_area"</span>, drop_geoms <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>loss <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cumsum.html">cumsum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">abs</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rspatial.github.io/terra/reference/diff.html">diff</a></span><span class="op">(</span><span class="va">value</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, .by <span class="op">=</span> <span class="va">name</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">datetime</span>, y <span class="op">=</span> <span class="va">loss</span>, color <span class="op">=</span> <span class="va">name</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span>lwd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="va">start_flooding</span>, color <span class="op">=</span> <span class="va">name</span><span class="op">)</span>, lwd <span class="op">=</span> <span class="fl">1</span>, linetype <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="va">colors</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html">scale_x_datetime</a></span><span class="op">(</span>date_labels <span class="op">=</span> <span class="st">"%Y"</span>, date_breaks <span class="op">=</span> <span class="st">"2 years"</span>, date_minor_breaks <span class="op">=</span> <span class="st">"1 years"</span><span class="op">)</span>  <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">24000</span>, <span class="fl">4000</span><span class="op">)</span>, expand <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/expansion.html">expansion</a></span><span class="op">(</span>mult <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">.05</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Time"</span>, y <span class="op">=</span> <span class="st">"Cumulative tree cover loss [ha]"</span>, color <span class="op">=</span> <span class="st">"Location"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">my_theme</span><span class="op">(</span><span class="op">)</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="fig-gg-treecover-loss" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-gg-treecover-loss-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="index_files/figure-html/fig-gg-treecover-loss-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9" title="Figure&nbsp;11: Cumulative tree cover losses (GFW) with vertical lines indicating the year of flooding."><img src="index_files/figure-html/fig-gg-treecover-loss-1.png" class="img-fluid figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-gg-treecover-loss-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11: Cumulative tree cover losses (GFW) with vertical lines indicating the year of flooding.
</figcaption></figure>
</div>
</div>
</div>
<p>With this we have some solid indication that treecover loss in both AOIs between 2007 to 2017 was mainly dominated by losses associated with flooding previously forested areas. However, as can be seen from the spatial visualization of the treecover loss year (<a href="#fig-gfw-lossyear" class="quarto-xref">Figure&nbsp;8</a>) there might also be other processes at work here contributing to the deforestation rates. An option to improve the presented methodology could be to spatially match the yearly surface water change maps with the treecover loss layer to construct a new indicator that calculates the area of treecover loss due to flooding.</p>
<p>Lastly, we will take a look at the number of people living in a 50 km vicinity of the dams locations. For this, we will use another utility, called <code><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/portfolio.html">portfolio_wide()</a></code>, which unpacks nested indicator columns to create a wide view of our portfolio data. Note, that the column names are quite predictable, though not perfectly legible.</p>
<p>We see that WorldPop estimates about 500,000 people to live in the buffer zone of the Santo Antonio dam while only about 20,000 in the vicinity of the Jiaru dam. Looking up the number of inhabitants in <a href="https://datacommons.org/place/wikidataId/Q172512?utm_medium=explore&amp;mprop=count&amp;popt=Person&amp;hl=en#">Porto Velho</a> shows a pretty good level of agreement for this estimate.</p>
<div class="cell">
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">buffers</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">assetid</span>, <span class="va">name</span>, <span class="va">type</span>, <span class="va">population_count</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/portfolio.html">portfolio_wide</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simple feature collection with 2 features and 4 fields</span></span>
<span><span class="co">#&gt; Geometry type: POLYGON</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -65.10765 ymin: -9.72112 xmax: -63.4921 ymax: -8.348096</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84 (CRS84)</span></span>
<span><span class="co">#&gt; # A tibble: 2 × 5</span></span>
<span><span class="co">#&gt;   assetid name          type   population_count_2019…¹                  geometry</span></span>
<span><span class="co">#&gt;     &lt;dbl&gt; &lt;chr&gt;         &lt;chr&gt;                    &lt;dbl&gt;             &lt;POLYGON [°]&gt;</span></span>
<span><span class="co">#&gt; 1       1 Santo Antonio buffer                 499234. ((-63.58061 -8.538803, -…</span></span>
<span><span class="co">#&gt; 2       2 Jirau         buffer                  20036. ((-64.90595 -9.637122, -…</span></span>
<span><span class="co">#&gt; # ℹ abbreviated name: ¹​`population_count_2019-01-01_population_sum_count`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="references" class="level2"><h2 class="anchored" data-anchor-id="references">References</h2>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-finer2015" class="csl-entry" role="listitem">
Finer, M., and T. Olexy. 2015. <span>“New Dams on the Madeira River (Brazil) Cause Forest Flooding.”</span>
</div>
<div id="ref-hansen2013" class="csl-entry" role="listitem">
Hansen, M. C., P. V. Potapov, R. Moore, M. Hancher, S. A. Turubanova, A. Tyukavina, D. Thau, et al. 2013. <span>“High-Resolution Global Maps of 21st-Century Forest Cover Change.”</span> <em>Science</em> 342 (6160): 850–53. <a href="https://doi.org/10.1126/science.1244693">https://doi.org/10.1126/science.1244693</a>.
</div>
<div id="ref-pekel2016" class="csl-entry" role="listitem">
Pekel, J.-F, Andrew Cottam, Noel Gorelick, and Alan Belward. 2016. <span>“High-Resolution Mapping of Global Surface Water and Its Long-Term Changes.”</span> <em>Nature</em> 540 (December). <a href="https://doi.org/10.1038/nature20584">https://doi.org/10.1038/nature20584</a>.
</div>
<div id="ref-wdpa2019" class="csl-entry" role="listitem">
UNEP-WCMC. 2019. <span>“User <span>Manual</span> for the <span>World</span> <span>Database</span> on <span>Protected</span> <span>Areas</span> and World Database on Other Effective Area- Based Conservation Measures: 1.6.”</span>
</div>
<div id="ref-worldpop2018" class="csl-entry" role="listitem">
WorldPop. 2018. <span>“Global 1km Population.”</span> University of Southampton. <a href="https://doi.org/10.5258/SOTON/WP00647">https://doi.org/10.5258/SOTON/WP00647</a>.
</div>
</div>
</section></main><!-- /main column --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","selector":".lightbox","openEffect":"zoom","loop":false,"descPosition":"bottom"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>


</body></html>